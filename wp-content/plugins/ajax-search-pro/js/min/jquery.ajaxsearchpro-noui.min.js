/*! noUiSlider - 7.0.9 - 2014-10-08 16:49:44 */
(function(){"use strict";var FormatOptions=["decimals","thousand","mark","prefix","postfix","encoder","decoder","negativeBefore","negative","edit","undo"];function strReverse(a){return a.split("").reverse().join("")}function strStartsWith(input,match){return input.substring(0,match.length)===match}function strEndsWith(input,match){return input.slice(-1*match.length)===match}function throwEqualError(F,a,b){if((F[a]||F[b])&&F[a]===F[b])throw new Error(a);}function isValidNumber(input){return typeof input=="number"&&isFinite(input)}function toFixed(value,decimals){var scale=Math.pow(10,decimals);return(Math.round(value*scale)/scale).toFixed(decimals)}function formatTo(decimals,thousand,mark,prefix,postfix,encoder,decoder,negativeBefore,negative,edit,undo,input){var originalInput=input,inputIsNegative,inputPieces,inputBase,inputDecimals="",output="";return(encoder&&(input=encoder(input)),!isValidNumber(input))?!1:(decimals&&parseFloat(input.toFixed(decimals))===0&&(input=0),input<0&&(inputIsNegative=!0,input=Math.abs(input)),decimals!==!1&&(input=toFixed(input,decimals)),input=input.toString(),input.indexOf(".")!==-1?(inputPieces=input.split("."),inputBase=inputPieces[0],mark&&(inputDecimals=mark+inputPieces[1])):inputBase=input,thousand&&(inputBase=strReverse(inputBase).match(/.{1,3}/g),inputBase=strReverse(inputBase.join(strReverse(thousand)))),inputIsNegative&&negativeBefore&&(output+=negativeBefore),prefix&&(output+=prefix),inputIsNegative&&negative&&(output+=negative),output+=inputBase,output+=inputDecimals,postfix&&(output+=postfix),edit&&(output=edit(output,originalInput)),output)}function formatFrom(decimals,thousand,mark,prefix,postfix,encoder,decoder,negativeBefore,negative,edit,undo,input){var originalInput=input,inputIsNegative,output="";return(undo&&(input=undo(input)),!input||typeof input!="string")?!1:(negativeBefore&&strStartsWith(input,negativeBefore)&&(input=input.replace(negativeBefore,""),inputIsNegative=!0),prefix&&strStartsWith(input,prefix)&&(input=input.replace(prefix,"")),negative&&strStartsWith(input,negative)&&(input=input.replace(negative,""),inputIsNegative=!0),postfix&&strEndsWith(input,postfix)&&(input=input.slice(0,-1*postfix.length)),thousand&&(input=input.split(thousand).join("")),mark&&(input=input.replace(mark,".")),inputIsNegative&&(output+="-"),output+=input,output=output.replace(/[^0-9\.\-.]/g,""),output==="")?!1:(output=Number(output),decoder&&(output=decoder(output)),!isValidNumber(output))?!1:output}function validate(inputOptions){for(var optionName,optionValue,filteredOptions={},i=0;i<FormatOptions.length;i+=1)if(optionName=FormatOptions[i],optionValue=inputOptions[optionName],optionValue===undefined)filteredOptions[optionName]=optionName!=="negative"||filteredOptions.negativeBefore?optionName==="mark"&&filteredOptions.thousand!=="."?".":!1:"-";else if(optionName==="decimals")if(optionValue>=0&&optionValue<8)filteredOptions[optionName]=optionValue;else throw new Error(optionName);else if(optionName==="encoder"||optionName==="decoder"||optionName==="edit"||optionName==="undo")if(typeof optionValue=="function")filteredOptions[optionName]=optionValue;else throw new Error(optionName);else if(typeof optionValue=="string")filteredOptions[optionName]=optionValue;else throw new Error(optionName);return throwEqualError(filteredOptions,"mark","thousand"),throwEqualError(filteredOptions,"prefix","negative"),throwEqualError(filteredOptions,"prefix","negativeBefore"),filteredOptions}function passAll(options,method,input){for(var args=[],i=0;i<FormatOptions.length;i+=1)args.push(options[FormatOptions[i]]);return args.push(input),method.apply("",args)}function wNumb(options){if(!(this instanceof wNumb))return new wNumb(options);typeof options=="object"&&(options=validate(options),this.to=function(input){return passAll(options,formatTo,input)},this.from=function(input){return passAll(options,formatFrom,input)})}window.wNumb=wNumb})(),function($){"use strict";function isInstance(a){return a instanceof $||$.zepto&&$.zepto.isZ(a)}function fromPrefix(target,method){if(typeof target=="string"&&target.indexOf("-inline-")===0)return this.method=method||"html",this.target=this.el=$(target.replace("-inline-","")||"<div/>"),!0}function fromString(target){if(typeof target=="string"&&target.indexOf("-")!==0){this.method="val";var element=document.createElement("input");return element.name=target,element.type="hidden",this.target=this.el=$(element),!0}}function fromFunction(target){if(typeof target=="function")return this.target=!1,this.method=target,!0}function fromInstance(target,method){if(isInstance(target)&&!method)return target.is("input, select, textarea")?(this.method="val",this.target=target.on("change.liblink",this.changeHandler)):(this.target=target,this.method="html"),!0}function fromInstanceMethod(target,method){if(isInstance(target)&&(typeof method=="function"||typeof method=="string"&&target[method]))return this.method=method,this.target=target,!0}var creationFunctions=[fromPrefix,fromString,fromFunction,fromInstance,fromInstanceMethod];function Link(target,method,format){var that=this,valid=!1;if(this.changeHandler=function(changeEvent){var decodedValue=that.formatInstance.from($(this).val());if(decodedValue===!1||isNaN(decodedValue))return $(this).val(that.lastSetValue),!1;that.changeHandlerMethod.call("",changeEvent,decodedValue)},this.el=!1,this.formatInstance=format,$.each(creationFunctions,function(i,fn){return valid=fn.call(that,target,method),!valid}),!valid)throw new RangeError("(Link) Invalid Link.");}Link.prototype.set=function(value){var args=Array.prototype.slice.call(arguments),additionalArgs=args.slice(1);this.lastSetValue=this.formatInstance.to(value);additionalArgs.unshift(this.lastSetValue);(typeof this.method=="function"?this.method:this.target[this.method]).apply(this.target,additionalArgs)};function LinkAPI(origin){this.items=[];this.elements=[];this.origin=origin}LinkAPI.prototype.push=function(item,element){this.items.push(item);element&&this.elements.push(element)};LinkAPI.prototype.reconfirm=function(flag){for(var i=0;i<this.elements.length;i+=1)this.origin.LinkConfirm(flag,this.elements[i])};LinkAPI.prototype.remove=function(){for(var i=0;i<this.items.length;i+=1)this.items[i].target.off(".liblink");for(i=0;i<this.elements.length;i+=1)this.elements[i].remove()};LinkAPI.prototype.change=function(value){if(this.origin.LinkIsEmitting)return!1;this.origin.LinkIsEmitting=!0;var args=Array.prototype.slice.call(arguments,1),i;for(args.unshift(value),i=0;i<this.items.length;i+=1)this.items[i].set.apply(this.items[i],args);this.origin.LinkIsEmitting=!1};function binder(flag,target,method,format){flag===0&&(flag=this.LinkDefaultFlag);this.linkAPI||(this.linkAPI={});this.linkAPI[flag]||(this.linkAPI[flag]=new LinkAPI(this));var linkInstance=new Link(target,method,format||this.LinkDefaultFormatter);linkInstance.target||(linkInstance.target=$(this));linkInstance.changeHandlerMethod=this.LinkConfirm(flag,linkInstance.el);this.linkAPI[flag].push(linkInstance,linkInstance.el);this.LinkUpdate(flag)}$.fn.Link=function(flag){var that=this;if(flag===!1)return that.each(function(){this.linkAPI&&($.map(this.linkAPI,function(api){api.remove()}),delete this.linkAPI)});if(flag===undefined)flag=0;else if(typeof flag!="string")throw new Error("Flag must be string.");return{to:function(a,b,c){return that.each(function(){binder.call(this,flag,a,b,c)})}}}}(jQuery),function($){"use strict";function unique(array){return $.grep(array,function(el,index){return index===$.inArray(el,array)})}function closest(value,to){return Math.round(value/to)*to}function isNumeric(a){return typeof a=="number"&&!isNaN(a)&&isFinite(a)}function accurateNumber(number){var p=Math.pow(10,7);return Number((Math.round(number*p)/p).toFixed(7))}function addClassFor(element,className,duration){element.addClass(className);setTimeout(function(){element.removeClass(className)},duration)}function limit(a){return Math.max(Math.min(a,100),0)}function asArray(a){return $.isArray(a)?a:[a]}var doc=$(document),$val=$.fn.val,namespace=".nui",actions=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},Classes=["noUi-target","noUi-base","noUi-origin","noUi-handle","noUi-horizontal","noUi-vertical","noUi-background","noUi-connect","noUi-ltr","noUi-rtl","noUi-dragable","","noUi-state-drag","","noUi-state-tap","noUi-active","","noUi-stacking"];function subRangeRatio(pa,pb){return 100/(pb-pa)}function fromPercentage(range,value){return value*100/(range[1]-range[0])}function toPercentage(range,value){return fromPercentage(range,range[0]<0?value+Math.abs(range[0]):value-range[0])}function isPercentage(range,value){return value*(range[1]-range[0])/100+range[0]}function getJ(value,arr){for(var j=1;value>=arr[j];)j+=1;return j}function toStepping(xVal,xPct,value){if(value>=xVal.slice(-1)[0])return 100;var j=getJ(value,xVal),va,vb,pa,pb;return va=xVal[j-1],vb=xVal[j],pa=xPct[j-1],pb=xPct[j],pa+toPercentage([va,vb],value)/subRangeRatio(pa,pb)}function fromStepping(xVal,xPct,value){if(value>=100)return xVal.slice(-1)[0];var j=getJ(value,xPct),va,vb,pa,pb;return va=xVal[j-1],vb=xVal[j],pa=xPct[j-1],pb=xPct[j],isPercentage([va,vb],(value-pa)*subRangeRatio(pa,pb))}function getStep(xPct,xSteps,snap,value){if(value===100)return value;var j=getJ(value,xPct),a,b;return snap?(a=xPct[j-1],b=xPct[j],value-a>(b-a)/2)?b:a:xSteps[j-1]?xPct[j-1]+closest(value-xPct[j-1],xSteps[j-1]):value}function handleEntryPoint(index,value,that){var percentage;if(typeof value=="number"&&(value=[value]),Object.prototype.toString.call(value)!=="[object Array]")throw new Error("noUiSlider: 'range' contains invalid value.");if(percentage=index==="min"?0:index==="max"?100:parseFloat(index),!isNumeric(percentage)||!isNumeric(value[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");that.xPct.push(percentage);that.xVal.push(value[0]);percentage?that.xSteps.push(isNaN(value[1])?!1:value[1]):isNaN(value[1])||(that.xSteps[0]=value[1])}function handleStepPoint(i,n,that){if(!n)return!0;that.xSteps[i]=fromPercentage([that.xVal[i],that.xVal[i+1]],n)/subRangeRatio(that.xPct[i],that.xPct[i+1])}function Spectrum(entry,snap,direction,singleStep){this.xPct=[];this.xVal=[];this.xSteps=[singleStep||!1];this.xNumSteps=[!1];this.snap=snap;this.direction=direction;var that=this;for(var index in entry)entry.hasOwnProperty(index)&&handleEntryPoint(index,entry[index],that);that.xNumSteps=that.xSteps.slice(0);for(index in that.xNumSteps)that.xNumSteps.hasOwnProperty(index)&&handleStepPoint(Number(index),that.xNumSteps[index],that)}Spectrum.prototype.getMargin=function(value){return this.xPct.length===2?fromPercentage(this.xVal,value):!1};Spectrum.prototype.toStepping=function(value){return value=toStepping(this.xVal,this.xPct,value),this.direction&&(value=100-value),value};Spectrum.prototype.fromStepping=function(value){return this.direction&&(value=100-value),accurateNumber(fromStepping(this.xVal,this.xPct,value))};Spectrum.prototype.getStep=function(value){return this.direction&&(value=100-value),value=getStep(this.xPct,this.xSteps,this.snap,value),this.direction&&(value=100-value),value};Spectrum.prototype.getApplicableStep=function(value){var j=getJ(value,this.xPct),offset=value===100?2:1;return[this.xNumSteps[j-2],this.xVal[j-offset],this.xNumSteps[j-offset]]};Spectrum.prototype.convert=function(value){return this.getStep(this.toStepping(value))};var defaultFormatter={to:function(value){return value.toFixed(2)},from:Number};function testStep(parsed,entry){if(!isNumeric(entry))throw new Error("noUiSlider: 'step' is not numeric.");parsed.singleStep=entry}function testRange(parsed,entry){if(typeof entry!="object"||$.isArray(entry))throw new Error("noUiSlider: 'range' is not an object.");if(entry.min===undefined||entry.max===undefined)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");parsed.spectrum=new Spectrum(entry,parsed.snap,parsed.dir,parsed.singleStep)}function testStart(parsed,entry){if(entry=asArray(entry),!$.isArray(entry)||!entry.length||entry.length>2)throw new Error("noUiSlider: 'start' option is incorrect.");parsed.handles=entry.length;parsed.start=entry}function testSnap(parsed,entry){if(parsed.snap=entry,typeof entry!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");}function testAnimate(parsed,entry){if(parsed.animate=entry,typeof entry!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");}function testConnect(parsed,entry){if(entry==="lower"&&parsed.handles===1)parsed.connect=1;else if(entry==="upper"&&parsed.handles===1)parsed.connect=2;else if(entry===!0&&parsed.handles===2)parsed.connect=3;else if(entry===!1)parsed.connect=0;else throw new Error("noUiSlider: 'connect' option doesn't match handle count.");}function testOrientation(parsed,entry){switch(entry){case"horizontal":parsed.ort=0;break;case"vertical":parsed.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.");}}function testMargin(parsed,entry){if(!isNumeric(entry))throw new Error("noUiSlider: 'margin' option must be numeric.");if(parsed.margin=parsed.spectrum.getMargin(entry),!parsed.margin)throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.");}function testLimit(parsed,entry){if(!isNumeric(entry))throw new Error("noUiSlider: 'limit' option must be numeric.");if(parsed.limit=parsed.spectrum.getMargin(entry),!parsed.limit)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.");}function testDirection(parsed,entry){switch(entry){case"ltr":parsed.dir=0;break;case"rtl":parsed.dir=1;parsed.connect=[0,2,1,3][parsed.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.");}}function testBehaviour(parsed,entry){if(typeof entry!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var tap=entry.indexOf("tap")>=0,drag=entry.indexOf("drag")>=0,fixed=entry.indexOf("fixed")>=0,snap=entry.indexOf("snap")>=0;parsed.events={tap:tap||snap,drag:drag,fixed:fixed,snap:snap}}function testFormat(parsed,entry){if(parsed.format=entry,typeof entry.to=="function"&&typeof entry.from=="function")return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");}function testOptions(options){var parsed={margin:0,limit:0,animate:!0,format:defaultFormatter},tests;return tests={step:{r:!1,t:testStep},start:{r:!0,t:testStart},connect:{r:!0,t:testConnect},direction:{r:!0,t:testDirection},snap:{r:!1,t:testSnap},animate:{r:!1,t:testAnimate},range:{r:!0,t:testRange},orientation:{r:!1,t:testOrientation},margin:{r:!1,t:testMargin},limit:{r:!1,t:testLimit},behaviour:{r:!0,t:testBehaviour},format:{r:!1,t:testFormat}},options=$.extend({connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"},options),$.each(tests,function(name,test){if(options[name]===undefined){if(test.r)throw new Error("noUiSlider: '"+name+"' is required.");return!0}test.t(parsed,options[name])}),parsed.style=parsed.ort?"top":"left",parsed}function getPositions(a,b,delimit){var c=a+b[0],d=a+b[1];return delimit?(c<0&&(d+=Math.abs(c)),d>100&&(c-=d-100),[limit(c),limit(d)]):[c,d]}function fixEvent(e){e.preventDefault();var touch=e.type.indexOf("touch")===0,mouse=e.type.indexOf("mouse")===0,pointer=e.type.indexOf("pointer")===0,x,y,event=e;return e.type.indexOf("MSPointer")===0&&(pointer=!0),e.originalEvent&&(e=e.originalEvent),touch&&(x=e.changedTouches[0].pageX,y=e.changedTouches[0].pageY),(mouse||pointer)&&(pointer||window.pageXOffset!==undefined||(window.pageXOffset=document.documentElement.scrollLeft,window.pageYOffset=document.documentElement.scrollTop),x=e.clientX+window.pageXOffset,y=e.clientY+window.pageYOffset),event.points=[x,y],event.cursor=mouse,event}function addHandle(direction,index){var handle=$("<div><div/><\/div>").addClass(Classes[2]),additions=["-lower","-upper"];return direction&&additions.reverse(),handle.children().addClass(Classes[3]+" "+Classes[3]+additions[index]),handle}function addConnection(connect,target,handles){switch(connect){case 1:target.addClass(Classes[7]);handles[0].addClass(Classes[6]);break;case 3:handles[1].addClass(Classes[6]);case 2:handles[0].addClass(Classes[7]);case 0:target.addClass(Classes[6])}}function addHandles(nrHandles,direction,base){for(var handles=[],index=0;index<nrHandles;index+=1)handles.push(addHandle(direction,index).appendTo(base));return handles}function addSlider(direction,orientation,target){return target.addClass([Classes[0],Classes[8+direction],Classes[4+orientation]].join(" ")),$("<div/>").appendTo(target).addClass(Classes[1])}function closure(target,options,originalOptions){var $Target=$(target),$Locations=[-1,-1],$Base,$Handles,$Spectrum=options.spectrum,$Values=[],triggerPos=["lower","upper"].slice(0,options.handles);options.dir&&triggerPos.reverse();function baseSize(){return $Base[["width","height"][options.ort]]()}function fireEvents(events){for(var values=[$Target.val()],index=0;index<events.length;index+=1)$Target.trigger(events[index],values)}function inSliderOrder(values){return values.length===1?values[0]:options.dir?values.reverse():values}function createChangeHandler(trigger){return function(ignore,value){$Target.val([trigger?null:value,trigger?value:null],!0)}}function linkUpdate(flag){var trigger=$.inArray(flag,triggerPos);$Target[0].linkAPI&&$Target[0].linkAPI[flag]&&$Target[0].linkAPI[flag].change($Values[trigger],$Handles[trigger].children(),$Target)}function linkConfirm(flag,element){var trigger=$.inArray(flag,triggerPos);return element&&element.appendTo($Handles[trigger].children()),options.dir&&options.handles>1&&(trigger=trigger===1?0:1),createChangeHandler(trigger)}function reAppendLink(){for(var flag,i=0;i<triggerPos.length;i+=1)this.linkAPI&&this.linkAPI[flag=triggerPos[i]]&&this.linkAPI[flag].reconfirm(flag)}target.LinkUpdate=linkUpdate;target.LinkConfirm=linkConfirm;target.LinkDefaultFormatter=options.format;target.LinkDefaultFlag="lower";target.reappend=reAppendLink;function attach(events,element,callback,data){events=events.replace(/\s/g,namespace+" ")+namespace;return element.on(events,function(e){if(!!$Target.attr("disabled")||$Target.hasClass(Classes[14]))return!1;e=fixEvent(e);e.calcPoint=e.points[options.ort];callback(e,data)})}function move(event,data){var handles=data.handles||$Handles,positions,state=!1,proposal=(event.calcPoint-data.start)*100/baseSize(),h=handles[0][0]!==$Handles[0][0]?1:0;positions=getPositions(proposal,data.positions,handles.length>1);state=setHandle(handles[0],positions[h],handles.length===1);handles.length>1&&(state=setHandle(handles[1],positions[h?0:1],!1)||state);state&&fireEvents(["slide"])}function end(event){$("."+Classes[15]).removeClass(Classes[15]);event.cursor&&$("body").css("cursor","").off(namespace);doc.off(namespace);$Target.removeClass(Classes[12]);fireEvents(["set","change"])}function start(event,data){if(data.handles.length===1&&data.handles[0].children().addClass(Classes[15]),event.stopPropagation(),attach(actions.move,doc,move,{start:event.calcPoint,handles:data.handles,positions:[$Locations[0],$Locations[$Handles.length-1]]}),attach(actions.end,doc,end,null),event.cursor){$("body").css("cursor",$(event.target).css("cursor"));$Handles.length>1&&$Target.addClass(Classes[12]);$("body").on("selectstart"+namespace,!1)}}function tap(event){var location=event.calcPoint,total=0,to;event.stopPropagation();$.each($Handles,function(){total+=this.offset()[options.style]});total=location<total/2||$Handles.length===1?0:1;location-=$Base.offset()[options.style];to=location*100/baseSize();options.events.snap||addClassFor($Target,Classes[14],300);setHandle($Handles[total],to);fireEvents(["slide","set","change"]);options.events.snap&&start(event,{handles:[$Handles[total]]})}function events(behaviour){var i,drag;if(!behaviour.fixed)for(i=0;i<$Handles.length;i+=1)attach(actions.start,$Handles[i].children(),start,{handles:[$Handles[i]]});behaviour.tap&&attach(actions.start,$Base,tap,{handles:$Handles});behaviour.drag&&(drag=$Base.find("."+Classes[7]).addClass(Classes[10]),behaviour.fixed&&(drag=drag.add($Base.children().not(drag).children())),attach(actions.start,drag,start,{handles:$Handles}))}function setHandle(handle,to,noLimitOption){var trigger=handle[0]!==$Handles[0][0]?1:0,lowerMargin=$Locations[0]+options.margin,upperMargin=$Locations[1]-options.margin,lowerLimit=$Locations[0]+options.limit,upperLimit=$Locations[1]-options.limit;return($Handles.length>1&&(to=trigger?Math.max(to,lowerMargin):Math.min(to,upperMargin)),noLimitOption!==!1&&options.limit&&$Handles.length>1&&(to=trigger?Math.min(to,lowerLimit):Math.max(to,upperLimit)),to=$Spectrum.getStep(to),to=limit(parseFloat(to.toFixed(7))),to===$Locations[trigger])?!1:(handle.css(options.style,to+"%"),handle.is(":first-child")&&handle.toggleClass(Classes[17],to>50),$Locations[trigger]=to,$Values[trigger]=$Spectrum.fromStepping(to),linkUpdate(triggerPos[trigger]),!0)}function setValues(count,values){var i,trigger,to;for(options.limit&&(count+=1),i=0;i<count;i+=1)trigger=i%2,to=values[trigger],to!==null&&to!==!1&&(typeof to=="number"&&(to=String(to)),to=options.format.from(to),(to===!1||isNaN(to)||setHandle($Handles[trigger],$Spectrum.toStepping(to),i===3-options.dir)===!1)&&linkUpdate(triggerPos[trigger]))}function valueSet(input){if($Target[0].LinkIsEmitting)return this;var count,values=asArray(input);return options.dir&&options.handles>1&&values.reverse(),options.animate&&$Locations[0]!==-1&&addClassFor($Target,Classes[14],300),count=$Handles.length>1?3:1,values.length===1&&(count=1),setValues(count,values),fireEvents(["set"]),this}function valueGet(){for(var retour=[],i=0;i<options.handles;i+=1)retour[i]=options.format.to($Values[i]);return inSliderOrder(retour)}function destroyTarget(){return $(this).off(namespace).removeClass(Classes.join(" ")).empty(),delete this.LinkUpdate,delete this.LinkConfirm,delete this.LinkDefaultFormatter,delete this.LinkDefaultFlag,delete this.reappend,delete this.vGet,delete this.vSet,delete this.getCurrentStep,delete this.getInfo,delete this.destroy,originalOptions}function getCurrentStep(){var retour=$.map($Locations,function(location,index){var step=$Spectrum.getApplicableStep(location),value=$Values[index],increment=step[2],decrement=value-step[2]>=step[1]?step[2]:step[0];return[[decrement,increment]]});return inSliderOrder(retour)}function getOriginalOptions(){return originalOptions}if($Target.hasClass(Classes[0]))throw new Error("Slider was already initialized.");$Base=addSlider(options.dir,options.ort,$Target);$Handles=addHandles(options.handles,options.dir,$Base);addConnection(options.connect,$Target,$Handles);events(options.events);target.vSet=valueSet;target.vGet=valueGet;target.destroy=destroyTarget;target.getCurrentStep=getCurrentStep;target.getOriginalOptions=getOriginalOptions;target.getInfo=function(){return[$Spectrum,options.style,options.ort]};$Target.val(options.start)}function initialize(originalOptions){if(!this.length)throw new Error("noUiSlider: Can't initialize slider on empty selection.");var options=testOptions(originalOptions,this);return this.each(function(){closure(this,options,originalOptions)})}function rebuild(options){return this.each(function(){if(!this.destroy){$(this).noUiSlider(options);return}var values=$(this).val(),originalOptions=this.destroy(),newOptions=$.extend({},originalOptions,options);$(this).noUiSlider(newOptions);this.reappend();originalOptions.start===newOptions.start&&$(this).val(values)})}function value(){return this[0][arguments.length?"vSet":"vGet"].apply(this[0],arguments)}$.fn.val=function(arg){function valMethod(a){return a.hasClass(Classes[0])?value:$val}if(arg===undefined){var first=$(this[0]);return valMethod(first).call(first)}var isFunction=$.isFunction(arg);return this.each(function(i){var val=arg,$t=$(this);isFunction&&(val=arg.call(this,i,$t.val()));valMethod($t).call($t,val)})};$.fn.noUiSlider=function(options,rebuildFlag){switch(options){case"step":return this[0].getCurrentStep();case"options":return this[0].getOriginalOptions()}return(rebuildFlag?rebuild:initialize).call(this,options)};function getGroup($Spectrum,mode,values,stepped){if(mode==="range"||mode==="steps")return $Spectrum.xVal;if(mode==="count"){var spread=100/(values-1),v,i=0;for(values=[];(v=i++*spread)<=100;)values.push(v);mode="positions"}return mode==="positions"?$.map(values,function(value){return $Spectrum.fromStepping(stepped?$Spectrum.getStep(value):value)}):mode==="values"?stepped?$.map(values,function(value){return $Spectrum.fromStepping($Spectrum.getStep($Spectrum.toStepping(value)))}):values:void 0}function generateSpread($Spectrum,density,mode,group){var originalSpectrumDirection=$Spectrum.direction,indexes={},firstInRange=$Spectrum.xVal[0],lastInRange=$Spectrum.xVal[$Spectrum.xVal.length-1],ignoreFirst=!1,ignoreLast=!1,prevPct=0;return $Spectrum.direction=0,group=unique(group.slice().sort(function(a,b){return a-b})),group[0]!==firstInRange&&(group.unshift(firstInRange),ignoreFirst=!0),group[group.length-1]!==lastInRange&&(group.push(lastInRange),ignoreLast=!0),$.each(group,function(index){var step,i,q,low=group[index],high=group[index+1],newPct,pctDifference,pctPos,type,steps,realSteps,stepsize;if(mode==="steps"&&(step=$Spectrum.xNumSteps[index]),step||(step=high-low),low!==!1&&high!==undefined)for(i=low;i<=high;i+=step){for(newPct=$Spectrum.toStepping(i),pctDifference=newPct-prevPct,steps=pctDifference/density,realSteps=Math.round(steps),stepsize=pctDifference/realSteps,q=1;q<=realSteps;q+=1)pctPos=prevPct+q*stepsize,indexes[pctPos.toFixed(5)]=["x",0];type=$.inArray(i,group)>-1?1:mode==="steps"?2:0;!index&&ignoreFirst&&(type=0);i===high&&ignoreLast||(indexes[newPct.toFixed(5)]=[i,type]);prevPct=newPct}}),$Spectrum.direction=originalSpectrumDirection,indexes}function addMarking(CSSstyle,orientation,direction,spread,filterFunc,formatter){var style=["horizontal","vertical"][orientation],element=$("<div/>");element.addClass("noUi-pips noUi-pips-"+style);function getSize(type,value){return["-normal","-large","-sub"][type&&filterFunc?filterFunc(value,type):type]}function getTags(offset,source,values){return'class="'+source+" "+source+"-"+style+" "+source+getSize(values[1],values[0])+'" style="'+CSSstyle+": "+offset+'%"'}function addSpread(offset,values){direction&&(offset=100-offset);element.append("<div "+getTags(offset,"noUi-marker",values)+"><\/div>");values[1]&&element.append("<div "+getTags(offset,"noUi-value",values)+">"+formatter.to(values[0])+"<\/div>")}return $.each(spread,addSpread),element}$.fn.noUiSlider_pips=function(grid){var mode=grid.mode,density=grid.density||1,filter=grid.filter||!1,values=grid.values||!1,format=grid.format||{to:Math.round},stepped=grid.stepped||!1;return this.each(function(){var info=this.getInfo(),group=getGroup(info[0],mode,values,stepped),spread=generateSpread(info[0],density,mode,group);return $(this).append(addMarking(info[1],info[2],info[0].direction,spread,filter,format))})}}(jQuery);
/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 * 
 * Requires: 1.2.2+
 */
(function($){var types=["DOMMouseScroll","mousewheel"];if($.event.fixHooks)for(var i=types.length;i;)$.event.fixHooks[types[--i]]=$.event.mouseHooks;$.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var i=types.length;i;)this.addEventListener(types[--i],handler,!1);else this.onmousewheel=handler},teardown:function(){if(this.removeEventListener)for(var i=types.length;i;)this.removeEventListener(types[--i],handler,!1);else this.onmousewheel=null}};$.fn.extend({mousewheel:function(fn){return fn?this.bind("mousewheel",fn):this.trigger("mousewheel")},unmousewheel:function(fn){return this.unbind("mousewheel",fn)}});function handler(event){var orgEvent=event||window.event,args=[].slice.call(arguments,1),delta=0,deltaX=0,deltaY=0;return event=$.event.fix(orgEvent),event.type="mousewheel",orgEvent.wheelDelta&&(delta=orgEvent.wheelDelta/120),orgEvent.detail&&(delta=-orgEvent.detail/3),deltaY=delta,orgEvent.axis!==undefined&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS&&(deltaY=0,deltaX=-1*delta),orgEvent.wheelDeltaY!==undefined&&(deltaY=orgEvent.wheelDeltaY/120),orgEvent.wheelDeltaX!==undefined&&(deltaX=-1*orgEvent.wheelDeltaX/120),args.unshift(event,delta,deltaX,deltaY),($.event.dispatch||$.event.handle).apply(this,args)}})(jQuery);jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(x,t,b,c,d){return jQuery.easing[jQuery.easing.def](x,t,b,c,d)},easeInQuad:function(x,t,b,c,d){return c*(t/=d)*t+b},easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b},easeInOutQuad:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t+b:-c/2*(--t*(t-2)-1)+b},easeInCubic:function(x,t,b,c,d){return c*(t/=d)*t*t+b},easeOutCubic:function(x,t,b,c,d){return c*((t=t/d-1)*t*t+1)+b},easeInOutCubic:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t*t+b:c/2*((t-=2)*t*t+2)+b},easeInQuart:function(x,t,b,c,d){return c*(t/=d)*t*t*t+b},easeOutQuart:function(x,t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b},easeInOutQuart:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t*t*t+b:-c/2*((t-=2)*t*t*t-2)+b},easeInQuint:function(x,t,b,c,d){return c*(t/=d)*t*t*t*t+b},easeOutQuint:function(x,t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b},easeInOutQuint:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t*t*t*t+b:c/2*((t-=2)*t*t*t*t+2)+b},easeInSine:function(x,t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b},easeOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b},easeInOutSine:function(x,t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b},easeInExpo:function(x,t,b,c,d){return t==0?b:c*Math.pow(2,10*(t/d-1))+b},easeOutExpo:function(x,t,b,c,d){return t==d?b+c:c*(-Math.pow(2,-10*t/d)+1)+b},easeInOutExpo:function(x,t,b,c,d){return t==0?b:t==d?b+c:(t/=d/2)<1?c/2*Math.pow(2,10*(t-1))+b:c/2*(-Math.pow(2,-10*--t)+2)+b},easeInCirc:function(x,t,b,c,d){return-c*(Math.sqrt(1-(t/=d)*t)-1)+b},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b},easeInOutCirc:function(x,t,b,c,d){return(t/=d/2)<1?-c/2*(Math.sqrt(1-t*t)-1)+b:c/2*(Math.sqrt(1-(t-=2)*t)+1)+b},easeInElastic:function(x,t,b,c,d){var s=1.70158,p=0,a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(p||(p=d*.3),a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*2*Math.PI/p))+b},easeOutElastic:function(x,t,b,c,d){var s=1.70158,p=0,a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(p||(p=d*.3),a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*2*Math.PI/p)+c+b},easeInOutElastic:function(x,t,b,c,d){var s=1.70158,p=0,a=c;if(t==0)return b;if((t/=d/2)==2)return b+c;if(p||(p=d*.3*1.5),a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return t<1?-.5*a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*2*Math.PI/p)+b:a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*2*Math.PI/p)*.5+c+b},easeInBack:function(x,t,b,c,d,s){return s==undefined&&(s=1.70158),c*(t/=d)*t*((s+1)*t-s)+b},easeOutBack:function(x,t,b,c,d,s){return s==undefined&&(s=1.70158),c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},easeInOutBack:function(x,t,b,c,d,s){return(s==undefined&&(s=1.70158),(t/=d/2)<1)?c/2*t*t*(((s*=1.525)+1)*t-s)+b:c/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+b},easeInBounce:function(x,t,b,c,d){return c-jQuery.easing.easeOutBounce(x,d-t,0,c,d)+b},easeOutBounce:function(x,t,b,c,d){return(t/=d)<1/2.75?c*7.5625*t*t+b:t<2/2.75?c*(7.5625*(t-=1.5/2.75)*t+.75)+b:t<2.5/2.75?c*(7.5625*(t-=2.25/2.75)*t+.9375)+b:c*(7.5625*(t-=2.625/2.75)*t+.984375)+b},easeInOutBounce:function(x,t,b,c,d){return t<d/2?jQuery.easing.easeInBounce(x,t*2,0,c,d)*.5+b:jQuery.easing.easeOutBounce(x,t*2-d,0,c,d)*.5+c*.5+b}}),function($){var methods={init:function(options){var defaults={set_width:!1,set_height:!1,horizontalScroll:!1,scrollInertia:950,mouseWheel:!0,mouseWheelPixels:"auto",autoDraggerLength:!0,autoHideScrollbar:!1,snapAmount:null,snapOffset:0,scrollButtons:{enable:!1,scrollType:"continuous",scrollSpeed:"auto",scrollAmount:40},advanced:{updateOnBrowserResize:!0,updateOnContentResize:!1,autoExpandHorizontalScroll:!1,autoScrollOnFocus:!0,normalizeMouseWheelDelta:!1},contentTouchScroll:!0,callbacks:{onScrollStart:function(){},onScroll:function(){},onTotalScroll:function(){},onTotalScrollBack:function(){},onTotalScrollOffset:0,onTotalScrollBackOffset:0,whileScrolling:function(){}},theme:"light"},options=$.extend(!0,defaults,options);return this.each(function(){var $this=$(this);if(options.set_width&&$this.css("width",options.set_width),options.set_height&&$this.css("height",options.set_height),$(document).data("mCustomScrollbar-index")){var mCustomScrollbarIndex=parseInt($(document).data("mCustomScrollbar-index"));$(document).data("mCustomScrollbar-index",mCustomScrollbarIndex+1)}else $(document).data("mCustomScrollbar-index","1");$this.wrapInner("<div class='mCustomScrollBox"+" mCS-"+options.theme+"' id='mCSB_"+$(document).data("mCustomScrollbar-index")+"' style='position:relative; height:100%; overflow:hidden; max-width:100%;' />").addClass("mCustomScrollbar _mCS_"+$(document).data("mCustomScrollbar-index"));var mCustomScrollBox=$this.children(".mCustomScrollBox");if(options.horizontalScroll){mCustomScrollBox.addClass("mCSB_horizontal").wrapInner("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />");var mCSB_h_wrapper=mCustomScrollBox.children(".mCSB_h_wrapper");mCSB_h_wrapper.wrapInner("<div class='mCSB_container' style='position:absolute; left:0;' />").children(".mCSB_container").css({width:mCSB_h_wrapper.children().outerWidth(),position:"relative"}).unwrap()}else mCustomScrollBox.wrapInner("<div class='mCSB_container' style='position:relative; top:0;' />");var mCSB_container=mCustomScrollBox.children(".mCSB_container");$.support.touch&&mCSB_container.addClass("mCS_touch");mCSB_container.after("<div class='mCSB_scrollTools' style='position:absolute;'><div class='mCSB_draggerContainer'><div class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' style='position:relative;'><\/div><\/div><div class='mCSB_draggerRail'><\/div><\/div><\/div>");var mCSB_scrollTools=mCustomScrollBox.children(".mCSB_scrollTools"),mCSB_draggerContainer=mCSB_scrollTools.children(".mCSB_draggerContainer"),mCSB_dragger=mCSB_draggerContainer.children(".mCSB_dragger");if(options.horizontalScroll?mCSB_dragger.data("minDraggerWidth",mCSB_dragger.width()):mCSB_dragger.data("minDraggerHeight",mCSB_dragger.height()),options.scrollButtons.enable&&(options.horizontalScroll?mCSB_scrollTools.prepend("<a class='mCSB_buttonLeft' oncontextmenu='return false;'><\/a>").append("<a class='mCSB_buttonRight' oncontextmenu='return false;'><\/a>"):mCSB_scrollTools.prepend("<a class='mCSB_buttonUp' oncontextmenu='return false;'><\/a>").append("<a class='mCSB_buttonDown' oncontextmenu='return false;'><\/a>")),mCustomScrollBox.bind("scroll",function(){$this.is(".mCS_disabled")||mCustomScrollBox.scrollTop(0).scrollLeft(0)}),$this.data({mCS_Init:!0,mCustomScrollbarIndex:$(document).data("mCustomScrollbar-index"),horizontalScroll:options.horizontalScroll,scrollInertia:options.scrollInertia,scrollEasing:"mcsEaseOut",mouseWheel:options.mouseWheel,mouseWheelPixels:options.mouseWheelPixels,autoDraggerLength:options.autoDraggerLength,autoHideScrollbar:options.autoHideScrollbar,snapAmount:options.snapAmount,snapOffset:options.snapOffset,scrollButtons_enable:options.scrollButtons.enable,scrollButtons_scrollType:options.scrollButtons.scrollType,scrollButtons_scrollSpeed:options.scrollButtons.scrollSpeed,scrollButtons_scrollAmount:options.scrollButtons.scrollAmount,autoExpandHorizontalScroll:options.advanced.autoExpandHorizontalScroll,autoScrollOnFocus:options.advanced.autoScrollOnFocus,normalizeMouseWheelDelta:options.advanced.normalizeMouseWheelDelta,contentTouchScroll:options.contentTouchScroll,onScrollStart_Callback:options.callbacks.onScrollStart,onScroll_Callback:options.callbacks.onScroll,onTotalScroll_Callback:options.callbacks.onTotalScroll,onTotalScrollBack_Callback:options.callbacks.onTotalScrollBack,onTotalScroll_Offset:options.callbacks.onTotalScrollOffset,onTotalScrollBack_Offset:options.callbacks.onTotalScrollBackOffset,whileScrolling_Callback:options.callbacks.whileScrolling,bindEvent_scrollbar_drag:!1,bindEvent_content_touch:!1,bindEvent_scrollbar_click:!1,bindEvent_mousewheel:!1,bindEvent_buttonsContinuous_y:!1,bindEvent_buttonsContinuous_x:!1,bindEvent_buttonsPixels_y:!1,bindEvent_buttonsPixels_x:!1,bindEvent_focusin:!1,bindEvent_autoHideScrollbar:!1,mCSB_buttonScrollRight:!1,mCSB_buttonScrollLeft:!1,mCSB_buttonScrollDown:!1,mCSB_buttonScrollUp:!1}),options.horizontalScroll)$this.css("max-width")!=="none"&&(options.advanced.updateOnContentResize||(options.advanced.updateOnContentResize=!0));else if($this.css("max-height")!=="none"){var percentage=!1,maxHeight=parseInt($this.css("max-height"));$this.css("max-height").indexOf("%")>=0&&(percentage=maxHeight,maxHeight=$this.parent().height()*percentage/100);$this.css("overflow","hidden");mCustomScrollBox.css("max-height",maxHeight)}if($this.mCustomScrollbar("update"),options.advanced.updateOnBrowserResize){var mCSB_resizeTimeout,currWinWidth=$(window).width(),currWinHeight=$(window).height();$(window).bind("resize."+$this.data("mCustomScrollbarIndex"),function(){mCSB_resizeTimeout&&clearTimeout(mCSB_resizeTimeout);mCSB_resizeTimeout=setTimeout(function(){if(!$this.is(".mCS_disabled")&&!$this.is(".mCS_destroyed")){var winWidth=$(window).width(),winHeight=$(window).height();(currWinWidth!==winWidth||currWinHeight!==winHeight)&&($this.css("max-height")!=="none"&&percentage&&mCustomScrollBox.css("max-height",$this.parent().height()*percentage/100),$this.mCustomScrollbar("update"),currWinWidth=winWidth,currWinHeight=winHeight)}},150)})}if(options.advanced.updateOnContentResize){var mCSB_onContentResize;if(options.horizontalScroll)var mCSB_containerOldSize=mCSB_container.outerWidth();else var mCSB_containerOldSize=mCSB_container.outerHeight();mCSB_onContentResize=setInterval(function(){if(options.horizontalScroll){options.advanced.autoExpandHorizontalScroll&&mCSB_container.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:mCSB_container.outerWidth(),position:"relative"}).unwrap();var mCSB_containerNewSize=mCSB_container.outerWidth()}else var mCSB_containerNewSize=mCSB_container.outerHeight();mCSB_containerNewSize!=mCSB_containerOldSize&&($this.mCustomScrollbar("update"),mCSB_containerOldSize=mCSB_containerNewSize)},300)}})},update:function(){var $this=$(this),mCustomScrollBox=$this.children(".mCustomScrollBox"),mCSB_container=mCustomScrollBox.children(".mCSB_container");mCSB_container.removeClass("mCS_no_scrollbar");$this.removeClass("mCS_disabled mCS_destroyed");mCustomScrollBox.scrollTop(0).scrollLeft(0);var mCSB_scrollTools=mCustomScrollBox.children(".mCSB_scrollTools"),mCSB_draggerContainer=mCSB_scrollTools.children(".mCSB_draggerContainer"),mCSB_dragger=mCSB_draggerContainer.children(".mCSB_dragger");if($this.data("horizontalScroll")){var mCSB_buttonLeft=mCSB_scrollTools.children(".mCSB_buttonLeft"),mCSB_buttonRight=mCSB_scrollTools.children(".mCSB_buttonRight"),mCustomScrollBoxW=mCustomScrollBox.width();$this.data("autoExpandHorizontalScroll")&&mCSB_container.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:mCSB_container.outerWidth(),position:"relative"}).unwrap();var mCSB_containerW=mCSB_container.outerWidth()}else var mCSB_buttonUp=mCSB_scrollTools.children(".mCSB_buttonUp"),mCSB_buttonDown=mCSB_scrollTools.children(".mCSB_buttonDown"),mCustomScrollBoxH=mCustomScrollBox.height(),mCSB_containerH=mCSB_container.outerHeight();if(mCSB_containerH>mCustomScrollBoxH&&!$this.data("horizontalScroll")){mCSB_scrollTools.css("display","block");var mCSB_draggerContainerH=mCSB_draggerContainer.height();if($this.data("autoDraggerLength")){var draggerH=Math.round(mCustomScrollBoxH/mCSB_containerH*mCSB_draggerContainerH),minDraggerH=mCSB_dragger.data("minDraggerHeight");if(draggerH<=minDraggerH)mCSB_dragger.css({height:minDraggerH});else if(draggerH>=mCSB_draggerContainerH-10){var mCSB_draggerContainerMaxH=mCSB_draggerContainerH-10;mCSB_dragger.css({height:mCSB_draggerContainerMaxH})}else mCSB_dragger.css({height:draggerH});mCSB_dragger.children(".mCSB_dragger_bar").css({"line-height":mCSB_dragger.height()+"px"})}var mCSB_draggerH=mCSB_dragger.height(),scrollAmount=(mCSB_containerH-mCustomScrollBoxH)/(mCSB_draggerContainerH-mCSB_draggerH);$this.data("scrollAmount",scrollAmount).mCustomScrollbar("scrolling",mCustomScrollBox,mCSB_container,mCSB_draggerContainer,mCSB_dragger,mCSB_buttonUp,mCSB_buttonDown,mCSB_buttonLeft,mCSB_buttonRight);var mCSB_containerP=Math.abs(mCSB_container.position().top);$this.mCustomScrollbar("scrollTo",mCSB_containerP,{scrollInertia:0,trigger:"internal"})}else if(mCSB_containerW>mCustomScrollBoxW&&$this.data("horizontalScroll")){mCSB_scrollTools.css("display","block");var mCSB_draggerContainerW=mCSB_draggerContainer.width();if($this.data("autoDraggerLength")){var draggerW=Math.round(mCustomScrollBoxW/mCSB_containerW*mCSB_draggerContainerW),minDraggerW=mCSB_dragger.data("minDraggerWidth");if(draggerW<=minDraggerW)mCSB_dragger.css({width:minDraggerW});else if(draggerW>=mCSB_draggerContainerW-10){var mCSB_draggerContainerMaxW=mCSB_draggerContainerW-10;mCSB_dragger.css({width:mCSB_draggerContainerMaxW})}else mCSB_dragger.css({width:draggerW})}var mCSB_draggerW=mCSB_dragger.width(),scrollAmount=(mCSB_containerW-mCustomScrollBoxW)/(mCSB_draggerContainerW-mCSB_draggerW);$this.data("scrollAmount",scrollAmount).mCustomScrollbar("scrolling",mCustomScrollBox,mCSB_container,mCSB_draggerContainer,mCSB_dragger,mCSB_buttonUp,mCSB_buttonDown,mCSB_buttonLeft,mCSB_buttonRight);var mCSB_containerP=Math.abs(mCSB_container.position().left);$this.mCustomScrollbar("scrollTo",mCSB_containerP,{scrollInertia:0,trigger:"internal"})}else mCustomScrollBox.unbind("mousewheel focusin"),$this.data("horizontalScroll")?mCSB_dragger.add(mCSB_container).css("left",0):mCSB_dragger.add(mCSB_container).css("top",0),mCSB_scrollTools.css("display","none"),mCSB_container.addClass("mCS_no_scrollbar"),$this.data({bindEvent_mousewheel:!1,bindEvent_focusin:!1})},scrolling:function(mCustomScrollBox,mCSB_container,mCSB_draggerContainer,mCSB_dragger,mCSB_buttonUp,mCSB_buttonDown,mCSB_buttonLeft,mCSB_buttonRight){var $this=$(this);if(!$this.data("bindEvent_scrollbar_drag")){var mCSB_draggerDragY,mCSB_draggerDragX;$.support.msPointer?(mCSB_dragger.bind("MSPointerDown",function(e){e.preventDefault();$this.data({on_drag:!0});mCSB_dragger.addClass("mCSB_dragger_onDrag");var elem=$(this),elemOffset=elem.offset(),x=e.originalEvent.pageX-elemOffset.left,y=e.originalEvent.pageY-elemOffset.top;x<elem.width()&&x>0&&y<elem.height()&&y>0&&(mCSB_draggerDragY=y,mCSB_draggerDragX=x)}),$(document).bind("MSPointerMove."+$this.data("mCustomScrollbarIndex"),function(e){if(e.preventDefault(),$this.data("on_drag")){var elem=mCSB_dragger,elemOffset=elem.offset(),x=e.originalEvent.pageX-elemOffset.left,y=e.originalEvent.pageY-elemOffset.top;scrollbarDrag(mCSB_draggerDragY,mCSB_draggerDragX,y,x)}}).bind("MSPointerUp."+$this.data("mCustomScrollbarIndex"),function(){$this.data({on_drag:!1});mCSB_dragger.removeClass("mCSB_dragger_onDrag")})):(mCSB_dragger.bind("mousedown touchstart",function(e){e.preventDefault();e.stopImmediatePropagation();var elem=$(this),elemOffset=elem.offset(),x,y;if(e.type==="touchstart"){var touch=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];x=touch.pageX-elemOffset.left;y=touch.pageY-elemOffset.top}else $this.data({on_drag:!0}),mCSB_dragger.addClass("mCSB_dragger_onDrag"),x=e.pageX-elemOffset.left,y=e.pageY-elemOffset.top;x<elem.width()&&x>0&&y<elem.height()&&y>0&&(mCSB_draggerDragY=y,mCSB_draggerDragX=x)}).bind("touchmove",function(e){e.preventDefault();e.stopImmediatePropagation();var touch=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],elem=$(this),elemOffset=elem.offset(),x=touch.pageX-elemOffset.left,y=touch.pageY-elemOffset.top;scrollbarDrag(mCSB_draggerDragY,mCSB_draggerDragX,y,x)}),$(document).bind("mousemove."+$this.data("mCustomScrollbarIndex"),function(e){if($this.data("on_drag")){var elem=mCSB_dragger,elemOffset=elem.offset(),x=e.pageX-elemOffset.left,y=e.pageY-elemOffset.top;scrollbarDrag(mCSB_draggerDragY,mCSB_draggerDragX,y,x)}}).bind("mouseup."+$this.data("mCustomScrollbarIndex"),function(){$this.data({on_drag:!1});mCSB_dragger.removeClass("mCSB_dragger_onDrag")}));$this.data({bindEvent_scrollbar_drag:!0})}function scrollbarDrag(mCSB_draggerDragY,mCSB_draggerDragX,y,x){$this.data("horizontalScroll")?$this.mCustomScrollbar("scrollTo",mCSB_dragger.position().left-mCSB_draggerDragX+x,{moveDragger:!0,trigger:"internal"}):$this.mCustomScrollbar("scrollTo",mCSB_dragger.position().top-mCSB_draggerDragY+y,{moveDragger:!0,trigger:"internal"})}if($.support.touch&&$this.data("contentTouchScroll")&&!$this.data("bindEvent_content_touch")){var touch,elem,elemOffset,y,x,mCSB_containerTouchY,mCSB_containerTouchX;mCSB_container.bind("touchstart",function(e){e.stopImmediatePropagation();touch=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];elem=$(this);elemOffset=elem.offset();x=touch.pageX-elemOffset.left;y=touch.pageY-elemOffset.top;mCSB_containerTouchY=y;mCSB_containerTouchX=x});mCSB_container.bind("touchmove",function(e){e.preventDefault();e.stopImmediatePropagation();touch=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];elem=$(this).parent();elemOffset=elem.offset();x=touch.pageX-elemOffset.left;y=touch.pageY-elemOffset.top;$this.data("horizontalScroll")?$this.mCustomScrollbar("scrollTo",mCSB_containerTouchX-x,{trigger:"internal"}):$this.mCustomScrollbar("scrollTo",mCSB_containerTouchY-y,{trigger:"internal"})})}if($this.data("bindEvent_scrollbar_click")||(mCSB_draggerContainer.bind("click",function(e){var scrollToPos=(e.pageY-mCSB_draggerContainer.offset().top)*$this.data("scrollAmount"),target=$(e.target);$this.data("horizontalScroll")&&(scrollToPos=(e.pageX-mCSB_draggerContainer.offset().left)*$this.data("scrollAmount"));(target.hasClass("mCSB_draggerContainer")||target.hasClass("mCSB_draggerRail"))&&$this.mCustomScrollbar("scrollTo",scrollToPos,{trigger:"internal",scrollEasing:"draggerRailEase"})}),$this.data({bindEvent_scrollbar_click:!0})),$this.data("mouseWheel")&&($this.data("bindEvent_mousewheel")||(mCustomScrollBox.bind("mousewheel",function(e,delta){var scrollTo,mouseWheelPixels=$this.data("mouseWheelPixels"),absPos=Math.abs(mCSB_container.position().top),draggerPos=mCSB_dragger.position().top,limit=mCSB_draggerContainer.height()-mCSB_dragger.height();$this.data("normalizeMouseWheelDelta")&&(delta=delta<0?-1:1);mouseWheelPixels==="auto"&&(mouseWheelPixels=100+Math.round($this.data("scrollAmount")/2));$this.data("horizontalScroll")&&(draggerPos=mCSB_dragger.position().left,limit=mCSB_draggerContainer.width()-mCSB_dragger.width(),absPos=Math.abs(mCSB_container.position().left));(delta>0&&draggerPos!==0||delta<0&&draggerPos!==limit)&&(e.preventDefault(),e.stopImmediatePropagation());scrollTo=absPos-delta*mouseWheelPixels;$this.mCustomScrollbar("scrollTo",scrollTo,{trigger:"internal"})}),$this.data({bindEvent_mousewheel:!0}))),$this.data("scrollButtons_enable"))if($this.data("scrollButtons_scrollType")==="pixels"){$this.data("horizontalScroll")?(mCSB_buttonRight.add(mCSB_buttonLeft).unbind("mousedown touchstart MSPointerDown mouseup MSPointerUp mouseout MSPointerOut touchend",mCSB_buttonRight_stop,mCSB_buttonLeft_stop),$this.data({bindEvent_buttonsContinuous_x:!1}),$this.data("bindEvent_buttonsPixels_x")||(mCSB_buttonRight.bind("click",function(e){e.preventDefault();PixelsScrollTo(Math.abs(mCSB_container.position().left)+$this.data("scrollButtons_scrollAmount"))}),mCSB_buttonLeft.bind("click",function(e){e.preventDefault();PixelsScrollTo(Math.abs(mCSB_container.position().left)-$this.data("scrollButtons_scrollAmount"))}),$this.data({bindEvent_buttonsPixels_x:!0}))):(mCSB_buttonDown.add(mCSB_buttonUp).unbind("mousedown touchstart MSPointerDown mouseup MSPointerUp mouseout MSPointerOut touchend",mCSB_buttonRight_stop,mCSB_buttonLeft_stop),$this.data({bindEvent_buttonsContinuous_y:!1}),$this.data("bindEvent_buttonsPixels_y")||(mCSB_buttonDown.bind("click",function(e){e.preventDefault();PixelsScrollTo(Math.abs(mCSB_container.position().top)+$this.data("scrollButtons_scrollAmount"))}),mCSB_buttonUp.bind("click",function(e){e.preventDefault();PixelsScrollTo(Math.abs(mCSB_container.position().top)-$this.data("scrollButtons_scrollAmount"))}),$this.data({bindEvent_buttonsPixels_y:!0})));function PixelsScrollTo(to){mCSB_dragger.data("preventAction")||(mCSB_dragger.data("preventAction",!0),$this.mCustomScrollbar("scrollTo",to,{trigger:"internal"}))}}else{if($this.data("horizontalScroll")){if(mCSB_buttonRight.add(mCSB_buttonLeft).unbind("click"),$this.data({bindEvent_buttonsPixels_x:!1}),!$this.data("bindEvent_buttonsContinuous_x")){mCSB_buttonRight.bind("mousedown touchstart MSPointerDown",function(e){e.preventDefault();var scrollButtonsSpeed=ScrollButtonsSpeed();$this.data({mCSB_buttonScrollRight:setInterval(function(){$this.mCustomScrollbar("scrollTo",Math.abs(mCSB_container.position().left)+scrollButtonsSpeed,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var mCSB_buttonRight_stop=function(e){e.preventDefault();clearInterval($this.data("mCSB_buttonScrollRight"))};mCSB_buttonRight.bind("mouseup touchend MSPointerUp mouseout MSPointerOut",mCSB_buttonRight_stop);mCSB_buttonLeft.bind("mousedown touchstart MSPointerDown",function(e){e.preventDefault();var scrollButtonsSpeed=ScrollButtonsSpeed();$this.data({mCSB_buttonScrollLeft:setInterval(function(){$this.mCustomScrollbar("scrollTo",Math.abs(mCSB_container.position().left)-scrollButtonsSpeed,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var mCSB_buttonLeft_stop=function(e){e.preventDefault();clearInterval($this.data("mCSB_buttonScrollLeft"))};mCSB_buttonLeft.bind("mouseup touchend MSPointerUp mouseout MSPointerOut",mCSB_buttonLeft_stop);$this.data({bindEvent_buttonsContinuous_x:!0})}}else if(mCSB_buttonDown.add(mCSB_buttonUp).unbind("click"),$this.data({bindEvent_buttonsPixels_y:!1}),!$this.data("bindEvent_buttonsContinuous_y")){mCSB_buttonDown.bind("mousedown touchstart MSPointerDown",function(e){e.preventDefault();var scrollButtonsSpeed=ScrollButtonsSpeed();$this.data({mCSB_buttonScrollDown:setInterval(function(){$this.mCustomScrollbar("scrollTo",Math.abs(mCSB_container.position().top)+scrollButtonsSpeed,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var mCSB_buttonDown_stop=function(e){e.preventDefault();clearInterval($this.data("mCSB_buttonScrollDown"))};mCSB_buttonDown.bind("mouseup touchend MSPointerUp mouseout MSPointerOut",mCSB_buttonDown_stop);mCSB_buttonUp.bind("mousedown touchstart MSPointerDown",function(e){e.preventDefault();var scrollButtonsSpeed=ScrollButtonsSpeed();$this.data({mCSB_buttonScrollUp:setInterval(function(){$this.mCustomScrollbar("scrollTo",Math.abs(mCSB_container.position().top)-scrollButtonsSpeed,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var mCSB_buttonUp_stop=function(e){e.preventDefault();clearInterval($this.data("mCSB_buttonScrollUp"))};mCSB_buttonUp.bind("mouseup touchend MSPointerUp mouseout MSPointerOut",mCSB_buttonUp_stop);$this.data({bindEvent_buttonsContinuous_y:!0})}function ScrollButtonsSpeed(){var speed=$this.data("scrollButtons_scrollSpeed");return $this.data("scrollButtons_scrollSpeed")==="auto"&&(speed=Math.round(($this.data("scrollInertia")+100)/40)),speed}}$this.data("autoScrollOnFocus")&&($this.data("bindEvent_focusin")||(mCustomScrollBox.bind("focusin",function(){mCustomScrollBox.scrollTop(0).scrollLeft(0);var focusedElem=$(document.activeElement);if(focusedElem.is("input,textarea,select,button,a[tabindex],area,object")){var mCSB_containerPos=mCSB_container.position().top,focusedElemPos=focusedElem.position().top,visibleLimit=mCustomScrollBox.height()-focusedElem.outerHeight();$this.data("horizontalScroll")&&(mCSB_containerPos=mCSB_container.position().left,focusedElemPos=focusedElem.position().left,visibleLimit=mCustomScrollBox.width()-focusedElem.outerWidth());(mCSB_containerPos+focusedElemPos<0||mCSB_containerPos+focusedElemPos>visibleLimit)&&$this.mCustomScrollbar("scrollTo",focusedElemPos,{trigger:"internal"})}}),$this.data({bindEvent_focusin:!0})));$this.data("autoHideScrollbar")&&($this.data("bindEvent_autoHideScrollbar")||(mCustomScrollBox.bind("mouseenter",function(){mCustomScrollBox.addClass("mCS-mouse-over");functions.showScrollbar.call(mCustomScrollBox.children(".mCSB_scrollTools"))}).bind("mouseleave touchend",function(e){mCustomScrollBox.removeClass("mCS-mouse-over");e.type==="mouseleave"&&functions.hideScrollbar.call(mCustomScrollBox.children(".mCSB_scrollTools"))}),$this.data({bindEvent_autoHideScrollbar:!0})))},scrollTo:function(scrollTo,options){var $this=$(this),defaults={moveDragger:!1,trigger:"external",callbacks:!0,scrollInertia:$this.data("scrollInertia"),scrollEasing:$this.data("scrollEasing")},options=$.extend(defaults,options),draggerScrollTo,mCustomScrollBox=$this.children(".mCustomScrollBox"),mCSB_container=mCustomScrollBox.children(".mCSB_container"),mCSB_scrollTools=mCustomScrollBox.children(".mCSB_scrollTools"),mCSB_draggerContainer=mCSB_scrollTools.children(".mCSB_draggerContainer"),mCSB_dragger=mCSB_draggerContainer.children(".mCSB_dragger"),contentSpeed=draggerSpeed=options.scrollInertia,scrollBeginning,scrollBeginningOffset,totalScroll,totalScrollOffset;if(!mCSB_container.hasClass("mCS_no_scrollbar")&&($this.data({mCS_trigger:options.trigger}),$this.data("mCS_Init")&&(options.callbacks=!1),scrollTo||scrollTo===0)){if(typeof scrollTo=="number")options.moveDragger?(draggerScrollTo=scrollTo,scrollTo=$this.data("horizontalScroll")?mCSB_dragger.position().left*$this.data("scrollAmount"):mCSB_dragger.position().top*$this.data("scrollAmount"),draggerSpeed=0):draggerScrollTo=scrollTo/$this.data("scrollAmount");else if(typeof scrollTo=="string"){var target;target=scrollTo==="top"?0:scrollTo!=="bottom"||$this.data("horizontalScroll")?scrollTo==="left"?0:scrollTo==="right"&&$this.data("horizontalScroll")?mCSB_container.outerWidth()-mCustomScrollBox.width():scrollTo==="first"?$this.find(".mCSB_container").find(":first"):scrollTo==="last"?$this.find(".mCSB_container").find(":last"):$this.find(scrollTo):mCSB_container.outerHeight()-mCustomScrollBox.height();target.length===1?(scrollTo=$this.data("horizontalScroll")?target.position().left:target.position().top,draggerScrollTo=scrollTo/$this.data("scrollAmount")):draggerScrollTo=scrollTo=target}if($this.data("horizontalScroll")){$this.data("onTotalScrollBack_Offset")&&(scrollBeginningOffset=-$this.data("onTotalScrollBack_Offset"));$this.data("onTotalScroll_Offset")&&(totalScrollOffset=mCustomScrollBox.width()-mCSB_container.outerWidth()+$this.data("onTotalScroll_Offset"));draggerScrollTo<0?(draggerScrollTo=scrollTo=0,clearInterval($this.data("mCSB_buttonScrollLeft")),scrollBeginningOffset||(scrollBeginning=!0)):draggerScrollTo>=mCSB_draggerContainer.width()-mCSB_dragger.width()?(draggerScrollTo=mCSB_draggerContainer.width()-mCSB_dragger.width(),scrollTo=mCustomScrollBox.width()-mCSB_container.outerWidth(),clearInterval($this.data("mCSB_buttonScrollRight")),totalScrollOffset||(totalScroll=!0)):scrollTo=-scrollTo;var snapAmount=$this.data("snapAmount");snapAmount&&(scrollTo=Math.round(scrollTo/snapAmount)*snapAmount-$this.data("snapOffset"));functions.mTweenAxis.call(this,mCSB_dragger[0],"left",Math.round(draggerScrollTo),draggerSpeed,options.scrollEasing);functions.mTweenAxis.call(this,mCSB_container[0],"left",Math.round(scrollTo),contentSpeed,options.scrollEasing,{onStart:function(){options.callbacks&&!$this.data("mCS_tweenRunning")&&callbacks("onScrollStart");$this.data("autoHideScrollbar")&&functions.showScrollbar.call(mCSB_scrollTools)},onUpdate:function(){options.callbacks&&callbacks("whileScrolling")},onComplete:function(){options.callbacks&&(callbacks("onScroll"),(scrollBeginning||scrollBeginningOffset&&mCSB_container.position().left>=scrollBeginningOffset)&&callbacks("onTotalScrollBack"),(totalScroll||totalScrollOffset&&mCSB_container.position().left<=totalScrollOffset)&&callbacks("onTotalScroll"));mCSB_dragger.data("preventAction",!1);$this.data("mCS_tweenRunning",!1);$this.data("autoHideScrollbar")&&(mCustomScrollBox.hasClass("mCS-mouse-over")||functions.hideScrollbar.call(mCSB_scrollTools))}})}else{$this.data("onTotalScrollBack_Offset")&&(scrollBeginningOffset=-$this.data("onTotalScrollBack_Offset"));$this.data("onTotalScroll_Offset")&&(totalScrollOffset=mCustomScrollBox.height()-mCSB_container.outerHeight()+$this.data("onTotalScroll_Offset"));draggerScrollTo<0?(draggerScrollTo=scrollTo=0,clearInterval($this.data("mCSB_buttonScrollUp")),scrollBeginningOffset||(scrollBeginning=!0)):draggerScrollTo>=mCSB_draggerContainer.height()-mCSB_dragger.height()?(draggerScrollTo=mCSB_draggerContainer.height()-mCSB_dragger.height(),scrollTo=mCustomScrollBox.height()-mCSB_container.outerHeight(),clearInterval($this.data("mCSB_buttonScrollDown")),totalScrollOffset||(totalScroll=!0)):scrollTo=-scrollTo;var snapAmount=$this.data("snapAmount");snapAmount&&(scrollTo=Math.round(scrollTo/snapAmount)*snapAmount-$this.data("snapOffset"));functions.mTweenAxis.call(this,mCSB_dragger[0],"top",Math.round(draggerScrollTo),draggerSpeed,options.scrollEasing);functions.mTweenAxis.call(this,mCSB_container[0],"top",Math.round(scrollTo),contentSpeed,options.scrollEasing,{onStart:function(){options.callbacks&&!$this.data("mCS_tweenRunning")&&callbacks("onScrollStart");$this.data("autoHideScrollbar")&&functions.showScrollbar.call(mCSB_scrollTools)},onUpdate:function(){options.callbacks&&callbacks("whileScrolling")},onComplete:function(){options.callbacks&&(callbacks("onScroll"),(scrollBeginning||scrollBeginningOffset&&mCSB_container.position().top>=scrollBeginningOffset)&&callbacks("onTotalScrollBack"),(totalScroll||totalScrollOffset&&mCSB_container.position().top<=totalScrollOffset)&&callbacks("onTotalScroll"));mCSB_dragger.data("preventAction",!1);$this.data("mCS_tweenRunning",!1);$this.data("autoHideScrollbar")&&(mCustomScrollBox.hasClass("mCS-mouse-over")||functions.hideScrollbar.call(mCSB_scrollTools))}})}$this.data("mCS_Init")&&$this.data({mCS_Init:!1})}function callbacks(cb){this.mcs={top:mCSB_container.position().top,left:mCSB_container.position().left,draggerTop:mCSB_dragger.position().top,draggerLeft:mCSB_dragger.position().left,topPct:Math.round(100*Math.abs(mCSB_container.position().top)/Math.abs(mCSB_container.outerHeight()-mCustomScrollBox.height())),leftPct:Math.round(100*Math.abs(mCSB_container.position().left)/Math.abs(mCSB_container.outerWidth()-mCustomScrollBox.width()))};switch(cb){case"onScrollStart":$this.data("mCS_tweenRunning",!0).data("onScrollStart_Callback").call($this,this.mcs);break;case"whileScrolling":$this.data("whileScrolling_Callback").call($this,this.mcs);break;case"onScroll":$this.data("onScroll_Callback").call($this,this.mcs);break;case"onTotalScrollBack":$this.data("onTotalScrollBack_Callback").call($this,this.mcs);break;case"onTotalScroll":$this.data("onTotalScroll_Callback").call($this,this.mcs)}}},stop:function(){var $this=$(this),mCSB_container=$this.children().children(".mCSB_container"),mCSB_dragger=$this.children().children().children().children(".mCSB_dragger");functions.mTweenAxisStop.call(this,mCSB_container[0]);functions.mTweenAxisStop.call(this,mCSB_dragger[0])},disable:function(resetScroll){var $this=$(this),mCustomScrollBox=$this.children(".mCustomScrollBox"),mCSB_container=mCustomScrollBox.children(".mCSB_container"),mCSB_scrollTools=mCustomScrollBox.children(".mCSB_scrollTools"),mCSB_dragger=mCSB_scrollTools.children().children(".mCSB_dragger");mCustomScrollBox.unbind("mousewheel focusin mouseenter mouseleave touchend");mCSB_container.unbind("touchstart touchmove");resetScroll&&($this.data("horizontalScroll")?mCSB_dragger.add(mCSB_container).css("left",0):mCSB_dragger.add(mCSB_container).css("top",0));mCSB_scrollTools.css("display","none");mCSB_container.addClass("mCS_no_scrollbar");$this.data({bindEvent_mousewheel:!1,bindEvent_focusin:!1,bindEvent_content_touch:!1,bindEvent_autoHideScrollbar:!1}).addClass("mCS_disabled")},destroy:function(){var $this=$(this);$this.removeClass("mCustomScrollbar _mCS_"+$this.data("mCustomScrollbarIndex")).addClass("mCS_destroyed").children().children(".mCSB_container").unwrap().children().unwrap().siblings(".mCSB_scrollTools").remove();$(document).unbind("mousemove."+$this.data("mCustomScrollbarIndex")+" mouseup."+$this.data("mCustomScrollbarIndex")+" MSPointerMove."+$this.data("mCustomScrollbarIndex")+" MSPointerUp."+$this.data("mCustomScrollbarIndex"));$(window).unbind("resize."+$this.data("mCustomScrollbarIndex"))}},functions={showScrollbar:function(){this.stop().animate({opacity:1},"fast")},hideScrollbar:function(){this.stop().animate({opacity:0},"fast")},mTweenAxis:function(el,prop,to,duration,easing,callbacks){var callbacks=callbacks||{},onStart=callbacks.onStart||function(){},onUpdate=callbacks.onUpdate||function(){},onComplete=callbacks.onComplete||function(){},startTime=_getTime(),_delay,progress=0,from=el.offsetTop,elStyle=el.style;prop==="left"&&(from=el.offsetLeft);var diff=to-from;_cancelTween();_startTween();function _getTime(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()}function _step(){progress||onStart.call();progress=_getTime()-startTime;_tween();progress>=el._time&&(el._time=progress>el._time?progress+_delay-(progress-el._time):progress+_delay-1,el._time<progress+1&&(el._time=progress+1));el._time<duration?el._id=_request(_step):onComplete.call()}function _tween(){duration>0?(el.currVal=_ease(el._time,from,diff,duration,easing),elStyle[prop]=Math.round(el.currVal)+"px"):elStyle[prop]=to+"px";onUpdate.call()}function _startTween(){_delay=1e3/60;el._time=progress+_delay;_request=window.requestAnimationFrame?window.requestAnimationFrame:function(f){return _tween(),setTimeout(f,.01)};el._id=_request(_step)}function _cancelTween(){el._id!=null&&(window.requestAnimationFrame?window.cancelAnimationFrame(el._id):clearTimeout(el._id),el._id=null)}function _ease(t,b,c,d,type){switch(type){case"linear":return c*t/d+b;case"easeOutQuad":return t/=d,-c*t*(t-2)+b;case"easeInOutQuad":return(t/=d/2,t<1)?c/2*t*t+b:(t--,-c/2*(t*(t-2)-1)+b);case"easeOutCubic":return t/=d,t--,c*(t*t*t+1)+b;case"easeOutQuart":return t/=d,t--,-c*(t*t*t*t-1)+b;case"easeOutQuint":return t/=d,t--,c*(t*t*t*t*t+1)+b;case"easeOutCirc":return t/=d,t--,c*Math.sqrt(1-t*t)+b;case"easeOutSine":return c*Math.sin(t/d*(Math.PI/2))+b;case"easeOutExpo":return c*(-Math.pow(2,-10*t/d)+1)+b;case"mcsEaseOut":var ts=(t/=d)*t,tc=ts*t;return b+c*(.499999999999997*tc*ts+-2.5*ts*ts+5.5*tc+-6.5*ts+4*t);case"draggerRailEase":return(t/=d/2,t<1)?c/2*t*t*t+b:(t-=2,c/2*(t*t*t+2)+b)}}},mTweenAxisStop:function(el){el._id!=null&&(window.requestAnimationFrame?window.cancelAnimationFrame(el._id):clearTimeout(el._id),el._id=null)},rafPolyfill:function(){for(var pfx=["ms","moz","webkit","o"],i=pfx.length;--i>-1&&!window.requestAnimationFrame;)window.requestAnimationFrame=window[pfx[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[pfx[i]+"CancelAnimationFrame"]||window[pfx[i]+"CancelRequestAnimationFrame"]}};functions.rafPolyfill.call();$.support.touch=!!("ontouchstart"in window);$.support.msPointer=window.navigator.msPointerEnabled;var _dlp="https:"==document.location.protocol?"https:":"http:";$.event.special.mousewheel||document.write('<script src="'+_dlp+'//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.0.6/jquery.mousewheel.min.js"><\/script>');$.fn.mCustomScrollbar=function(method){if(methods[method])return methods[method].apply(this,Array.prototype.slice.call(arguments,1));if(typeof method!="object"&&method)$.error("Method "+method+" does not exist");else return methods.init.apply(this,arguments)}}(jQuery);jQuery.extend({highlight:function(node,re,nodeName,className){if(node.nodeType===3){var match=node.data.match(re);if(match){var highlight=document.createElement(nodeName||"span");highlight.className=className||"highlight";var wordNode=node.splitText(match.index);wordNode.splitText(match[0].length);var wordClone=wordNode.cloneNode(!0);return highlight.appendChild(wordClone),wordNode.parentNode.replaceChild(highlight,wordNode),1}}else if(node.nodeType===1&&node.childNodes&&!/(script|style)/i.test(node.tagName)&&!(node.tagName===nodeName.toUpperCase()&&node.className===className))for(var i=0;i<node.childNodes.length;i++)i+=jQuery.highlight(node.childNodes[i],re,nodeName,className);return 0}});jQuery.fn.unhighlight=function(options){var settings={className:"highlight",element:"span"};return jQuery.extend(settings,options),this.find(settings.element+"."+settings.className).each(function(){var parent=this.parentNode;parent.replaceChild(this.firstChild,this);parent.normalize()}).end()};jQuery.fn.highlight=function(words,options){var settings={className:"highlight",element:"span",caseSensitive:!1,wordsOnly:!1};if(jQuery.extend(settings,options),words.constructor===String&&(words=[words]),words=jQuery.grep(words,function(word){return word!=""}),words=jQuery.map(words,function(word){return word.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}),words.length==0)return this;var flag=settings.caseSensitive?"":"i",pattern="("+words.join("|")+")";settings.wordsOnly&&(pattern="\\b"+pattern+"\\b");var re=new RegExp(pattern,flag);return this.each(function(){jQuery.highlight(this,re,settings.element,settings.className)})};
/*! Ajax Search pro 4.0 js */
(function($){var methods={init:function(options,elem){var $this=this;this.elem=elem;this.$elem=$(elem);$this.searching=!1;$this.o=$.extend({},options);$this.n=new Object;$this.n.container=$(this.elem);$this.o.rid=$this.n.container.attr("id").match(/^ajaxsearchpro(.*)/)[1];$this.o.id=$this.n.container.attr("id").match(/^ajaxsearchpro(.*)_/)[1];$this.n.probox=$(".probox",$this.n.container);$this.n.proinput=$(".proinput",$this.n.container);$this.n.text=$(".proinput input.orig",$this.n.container);$this.n.textAutocomplete=$(".proinput input.autocomplete",$this.n.container);$this.n.loading=$(".proinput .loading",$this.n.container);$this.n.proloading=$(".proloading",$this.n.container);$this.n.proclose=$(".proclose",$this.n.container);$this.n.promagnifier=$(".promagnifier",$this.n.container);$this.n.prosettings=$(".prosettings",$this.n.container);$this.n.searchsettings=$("#ajaxsearchprosettings"+$this.o.rid);$this.n.trythis=$("#asp-try-"+$this.o.rid);$this.o.blocking=!1;$this.resultsOpened=!1;$this.n.searchsettings.length<=0&&($this.n.searchsettings=$("#ajaxsearchprobsettings"+$this.o.rid),$this.o.blocking=!0);$this.n.resultsDiv=$("#ajaxsearchprores"+$this.o.rid);$this.n.hiddenContainer=$("#asp_hidden_data");$this.n.aspItemOverlay=$(".asp_item_overlay",$this.n.hiddenContainer);$this.resizeTimeout=null;typeof $.browser!="undefined"&&typeof $.browser.mozilla!="undefined"&&typeof $.browser.version!="undefined"&&parseInt($.browser.version)>13&&$this.n.searchsettings.addClass("asp_firefox");$this.n.showmore=$(".showmore",$this.n.resultsDiv);$this.n.items=$(".item",$this.n.resultsDiv);$this.n.results=$(".results",$this.n.resultsDiv);$this.n.resdrg=$(".resdrg",$this.n.resultsDiv);$this.il={columns:3,itemsPerPage:6};$this.firstClick=!0;$this.post=null;$this.postAuto=null;$this.cleanUp();$this.n.textAutocomplete.val("");$this.o.resultitemheight=parseInt($this.o.resultitemheight);$this.scroll=new Object;$this.settScroll=null;$this.n.resultsAppend=$("#wpdreams_asp_results_"+$this.o.id);$this.n.settingsAppend=$("#wpdreams_asp_settings_"+$this.o.id);$this.currentPage=1;$this.isotopic=null;$this.lastSuccesfulPhrase="";$this.animation="bounceIn";switch($this.o.resultstype){case"vertical":$this.animation=$this.o.vresultanimation;break;case"isotopic":$this.animation=$this.o.iianimation;break;default:$this.animation=$this.o.hresultanimation}if($this.filterFns={number:function(){for(var $parent=$(this).parent();!$parent.hasClass("isotopic");)$parent=$parent.parent();var number=$(this).attr("data-itemnum"),currentPage=$this.currentPage,itemsPerPage=$this.il.itemsPerPage;return parseInt(number,10)<itemsPerPage*currentPage&&parseInt(number,10)>=itemsPerPage*(currentPage-1)}},$this.disableMobileScroll=!1,$this.o.compact.enabled==1&&$this.o.compact.position=="fixed"&&is_touch_device()){$this.n.container.detach().appendTo("body");$this.n.trythis.detach().appendTo("body");$this.n.container.css("position","absolute");$this.n.trythis.css("position","absolute");var originalContainerOffTop=$this.n.container.offset().top;$(window).scroll(function(){$this.resultsOpened&&$this.dragging||(clearTimeout($.data(this,"xscrollTimer")),$.data(this,"xscrollTimer",setTimeout(function(){$this.n.container.animate({top:$(window).scrollTop()+originalContainerOffTop},150);$this.n.trythis.animate({top:$(window).scrollTop()+originalContainerOffTop+$this.n.container.outerHeight()},150)},130)))})}return $this.o.compact.enabled==1&&$this.o.compact.position!="static"&&$this.n.trythis.css({top:$this.n.container.position().top+$this.n.container.outerHeight(!0),left:$this.n.container.offset().left}),$this.n.settingsAppend.length>0?($this.o.blocking==!1&&($this.n.searchsettings.attr("id",$this.n.searchsettings.attr("id").replace("prosettings","probsettings")),$this.o.blocking=!0),$this.n.searchsettings.detach().appendTo($this.n.settingsAppend)):$this.o.blocking==!1&&$this.n.searchsettings.detach().appendTo("body"),$this.o.resultsposition=="hover"&&$this.n.resultsAppend.length<=0?$this.n.resultsDiv.detach().appendTo("body"):$this.n.resultsAppend.length>0?($this.o.resultsposition="block",$this.n.resultsDiv.css({position:"static"}),$this.n.resultsDiv.detach().appendTo($this.n.resultsAppend)):$this.n.resultsDiv.detach().insertAfter($this.n.container),$this.o.resultstype=="horizontal"?$this.createHorizontalScroll():$this.o.resultstype=="vertical"&&$this.createVerticalScroll(),$this.o.resultstype=="polaroid"&&$this.n.results.addClass("photostack"),$this.monitorTouchMove(),detectIE()&&$this.n.proloading.addClass("asp_msie"),$this.initEvents(),this},monitorTouchMove:function(){var $this=this;$this.dragging=!1;$("body").on("touchmove",function(){$this.dragging=!0});$("body").on("touchstart",function(){$this.dragging=!1})},duplicateCheck:function(){var $this=this,duplicateChk={};$("div[id*=ajaxsearchpro]").each(function(){duplicateChk.hasOwnProperty(this.id)?$(this).remove():duplicateChk[this.id]="true"})},analytics:function(term){var $this=this;$this.o.analytics&&$this.o.analyticsString!=""&&typeof ga=="function"&&ga("send","pageview",{page:"/"+$this.o.analyticsString.replace("{asp_term}",term),title:"Ajax Search"})},createVerticalScroll:function(){var $this=this;$this.scroll=$this.n.results.mCustomScrollbar({contentTouchScroll:!0,scrollButtons:{enable:!0,scrollType:"pixels",scrollSpeed:$this.o.resultitemheight,scrollAmount:$this.o.resultitemheight},callbacks:{onScroll:function(){if(!is_touch_device()){var top=parseInt($(".mCSB_container",$this.n.results).position().top),children=$(".mCSB_container .resdrg").children(),overall=0,prev=3e3,diff=4e3,s_diff=1e4,s_overall=1e4,$last=null;children.each(function(){diff=Math.abs(Math.abs(top)-overall);diff<prev&&(s_diff=diff,s_overall=overall,$last=$(this));overall+=$(this).outerHeight(!0);prev=diff});$last.hasClass("group")&&(s_overall=s_overall+($last.outerHeight(!0)-$last.outerHeight(!1)));$(".mCSB_container",$this.n.resultsDiv).animate({top:-s_overall})}}}})},createHorizontalScroll:function(){var $this=this;$this.scroll=$this.n.results.mCustomScrollbar({horizontalScroll:!0,contentTouchScroll:!0,scrollButtons:{enable:!0,scrollType:"pixels",scrollSpeed:"auto",scrollAmount:100}})},initEvents:function(){var $this=this;$($this.n.text.parent()).submit(function(e,args){e.preventDefault();(is_touch_device()||typeof args!="undefined"&&args=="ajax")&&$this.search()});$this.n.resultsDiv.css({opacity:0});$(document).bind("click touchend",function(){if($this.o.blocking==!1&&$this.hideSettings(),$this.o.compact.enabled){var compact=$this.n.container.attr("asp-compact")||"closed";$this.o.compact.closeOnDocument!=1||compact!="open"||$this.resultsOpened||$this.n.promagnifier.click()}else if($this.resultsOpened==!1||$this.o.closeOnDocClick!=1)return;$this.dragging||$this.hideResults()});$this.n.proclose.bind("click touchend",function(){$this.resultsOpened!=!1&&($this.n.text.val(""),$this.n.textAutocomplete.val(""),$this.hideResults())});$($this.elem).bind("click touchend",function(e){e.stopImmediatePropagation()});$this.n.resultsDiv.bind("click touchend",function(e){e.stopImmediatePropagation()});$this.n.searchsettings.bind("click touchend",function(e){e.stopImmediatePropagation()});$("p.asp-try").bind("click touchend",function(e){e.stopImmediatePropagation()});$this.n.prosettings.on("click",function(){$this.n.prosettings.data("opened")==0?$this.showSettings():$this.hideSettings()});if($this.o.settingsVisible==1&&$this.n.prosettings.click(),$(document).bind("touchmove",function(e){$this.disableMobileScroll==!0&&e.preventDefault()}),$(window).bind("resize",function(){$this.resize()}),$(window).bind("scroll",function(){$this.scrolling(!1)}),$this.initNavigationEvent(),$(window).trigger("resize"),$(window).trigger("scroll"),$this.o.aapl.on_click==1)jQuery("div[id*=ajaxsearchprores"+$this.o.id+"_] .results").on("click",".item",function(e){e.preventDefault();e.stopPropagation();typeof event!="undefined"&&typeof window.event.cancelBubble!="undefined"&&(window.event.cancelBubble=!0);AAPL_loadPage(jQuery(this).find("a").attr("href"))});$this.initMagnifierEvent();$this.initAutocompleteEvent();$this.initPagerEvent();$this.initOverlayEvent();$this.initFacetEvents()},initNavigationEvent:function(){var $this=this;$($this.n.resultsDiv).on("mouseenter",".item",function(){$(".item",$this.n.resultsDiv).removeClass("hovered");$(this).addClass("hovered")});$($this.n.resultsDiv).on("mouseleave",".item",function(){$(".item",$this.n.resultsDiv).removeClass("hovered")});$(document).keydown(function(e){if(window.event)var keycode=window.event.keyCode,ktype=window.event.type;else if(e)var keycode=e.which,ktype=e.type;if($(".item",$this.n.resultsDiv).length>0&&$this.n.resultsDiv.css("display")!="none"){if(keycode==40){if(e.stopPropagation(),e.preventDefault(),$this.post!=null&&$this.post.abort(),$(".item.hovered",$this.n.resultsDiv).length==0){$(".item",$this.n.resultsDiv).first().addClass("hovered");return}$(".item.hovered",$this.n.resultsDiv).removeClass("hovered").next().addClass("hovered");$this.scroll.mCustomScrollbar("scrollTo",".resdrg .item.hovered")}if(keycode==38){if(e.stopPropagation(),e.preventDefault(),$this.post!=null&&$this.post.abort(),$(".item.hovered",$this.n.resultsDiv).length==0){$(".item",$this.n.resultsDiv).last().addClass("hovered");return}$(".item.hovered",$this.n.resultsDiv).removeClass("hovered").prev().addClass("hovered");$this.scroll.mCustomScrollbar("scrollTo",".resdrg .item.hovered")}}})},initMagnifierEvent:function(){var $this=this;$this.o.compact.enabled==1&&$this.initCompactEvents();var t;$this.n.promagnifier.add($this.n.text).bind("click keyup",function(e){if((window.event?($this.keycode=window.event.keyCode,$this.ktype=window.event.type):e&&($this.keycode=e.which,$this.ktype=e.type),$this.keycode!=40&&$this.keycode!=38)&&(!$(this).hasClass("orig")||$this.ktype!="click")&&($this.o.compact.enabled!=1||$this.ktype!="click"&&$this.ktype!="touchend"||$this.o.compact.closeOnMagnifier!=1)){var compact=$this.n.container.attr("asp-compact")||"closed";if($this.o.compact.enabled!=1||$this.ktype!="click"&&$this.ktype!="touchend"||compact!="closed"){if($this.ktype=="keyup"&&$this.o.aapl.on_typing==1&&typeof AAPL_loadPage!="undefined"){clearTimeout(t);$this.aaplResults();return}if($this.ktype=="click"&&$(this).hasClass("promagnifier")&&$this.o.aapl.on_magnifier==1&&typeof AAPL_loadPage){clearTimeout(t);$this.aaplResults();return}if($this.ktype=="keyup"&&$this.keycode==13&&$this.o.aapl.on_enter==1&&typeof AAPL_loadPage!="undefined"){clearTimeout(t);$this.aaplResults();return}if($this.n.text.val()!=""&&($this.o.redirectonclick==1&&$this.ktype=="click"||$this.o.redirect_on_enter==1&&$this.ktype=="keyup"&&$this.keycode==13)){var plus="",url=$this.o.redirect_url.replace("{phrase}",$this.n.text.val());if(typeof AAPL_loadPage!="undefined"){var plus="";$this.o.overridewpdefault&&(plus="asid="+$this.o.id+"&"+$("form",$this.n.searchsettings).serialize(),plus="&asp_data="+Base64.encode(plus));location.href=$this.o.homeurl+url+plus}else $this.o.overridewpdefault?asp_submit_to_url($this.o.homeurl+url,"post",{p_asid:$this.o.id,p_asp_data:$("form",$this.n.searchsettings).serialize()}):location.href=$this.o.homeurl+url;return}if($this.o.triggeronclick!=0||$this.ktype!="click"){if($this.ktype=="keyup"){if($this.o.triggerontype==0&&$this.keycode!="13")return;if($this.o.triggeronreturn==0&&$this.keycode=="13")return}if($this.n.text.val().length<$this.o.charcount){$this.n.proloading.css("display","none");$this.o.blocking==!1&&$this.hideSettings();$this.hideResults();$this.post!=null&&$this.post.abort();clearTimeout(t);return}$this.post!=null&&$this.post.abort();clearTimeout(t);$this.n.proloading.css("display","none");t=setTimeout(function(){$this.n.text.val()==$this.lastSuccesfulPhrase&&$this.resultsOpened?$this.n.proclose.css("display","block"):$this.search()},250)}}}})},initCompactEvents:function(){var $this=this,scrollTopx=0;$this.n.text.focus(function(){window.scrollTo(0,0);document.body.scrollTop=scrollTopx;$this.n.container.css("top",$this.n.container.scrollTop)});$this.n.probox.attr("asp-compact-w",$this.n.probox.width());$this.n.container.attr("asp-compact-w",$this.n.container.width());$this.n.promagnifier.click(function(){var compact=$this.n.container.attr("asp-compact")||"closed";if(scrollTopx=$(window).scrollTop(),$this.hideSettings(),$this.hideResults(),compact=="closed")$this.n.probox.css({width:"auto"}),$this.n.container.animate({width:$this.o.compact.width},{duration:150,complete:function(){$this.resize();$this.n.container.css("position")!="static"&&$this.n.trythis.css({display:"block"})}}),$this.n.container.attr("asp-compact","open");else{if($this.o.compact.closeOnMagnifier!=1)return;$this.n.container.css({width:"auto"});$this.n.probox.animate({width:$this.n.probox.attr("asp-compact-w")},150);$this.n.container.css("position")!="static"&&$this.n.trythis.css({left:$this.n.container.position().left,display:"none"});$this.n.container.attr("asp-compact","closed")}})},initAutocompleteEvent:function(){var $this=this,tt;$this.o.autocomplete!=1||is_touch_device()||$this.n.text.keydown(function(e){window.event?($this.keycode=window.event.keyCode,$this.ktype=window.event.type):e&&($this.keycode=e.which,$this.ktype=e.type);var thekey=39;$("body").hasClass("rtl")&&(thekey=37);$this.keycode==thekey&&$this.n.textAutocomplete.val()!=""?$this.n.text.val($this.n.textAutocomplete.val()):(clearTimeout(tt),$this.postAuto!=null&&$this.postAuto.abort(),tt=setTimeout(function(){$this.autocomplete();tt=null},30))})},initPagerEvent:function(){var $this=this;$this.n.resultsDiv.on("click","nav>a",function(e){e.preventDefault();$this.currentPage=$(this).hasClass("asp_prev")?$this.currentPage==1?Math.ceil($this.n.items.length/$this.il.itemsPerPage):--$this.currentPage:$this.currentPage==Math.ceil($this.n.items.length/$this.il.itemsPerPage)?1:++$this.currentPage;$("nav>ul li",$this.n.resultsDiv).removeClass("asp_active");$($("nav>ul li",$this.n.resultsDiv).get($this.currentPage-1)).addClass("asp_active");$this.isotopic.arrange({filter:$this.filterFns.number});$this.removeAnimation()});$this.n.resultsDiv.on("click","nav>ul li",function(e){e.preventDefault();$this.currentPage=parseInt($("span",this).html(),10);$("nav>ul li",$this.n.resultsDiv).removeClass("asp_active");$($("nav>ul li",$this.n.resultsDiv).get($this.currentPage-1)).addClass("asp_active");$this.isotopic.arrange({filter:$this.filterFns.number});$this.removeAnimation()})},initOverlayEvent:function(){var $this=this;if($this.o.resultstype=="isotopic"){if($this.o.iishowOverlay){$this.n.resultsDiv.on("mouseenter","div.item",function(){$(".asp_item_overlay",this).fadeIn();$(".asp_item_img",this).length>0&&($this.o.iiblurOverlay&&$(".asp_item_overlay_img",this).fadeIn(),$this.o.iihideContent&&$(".content",this).slideUp(100))});$this.n.resultsDiv.on("mouseleave","div.item",function(){$(".asp_item_overlay",this).fadeOut();$(".asp_item_img",this).length>0&&($this.o.iiblurOverlay&&$(".asp_item_overlay_img",this).fadeOut(),$this.o.iihideContent&&$(".asp_item_img",this).length>0&&$(".content",this).slideDown(100))});$this.n.resultsDiv.on("mouseenter","div.asp_item_inner",function(){$(this).addClass("animated pulse")});$this.n.resultsDiv.on("mouseleave","div.asp_item_inner",function(){$(this).removeClass("animated pulse")});$this.n.resultsDiv.on("click",".asp_item_overlay",function(){var url=$(".content h3 a",$(this).parent()).attr("href");window.location=url})}$(window).on("resize",function(){$this.resizeTimeout!=null&&clearTimeout($this.resizeTimeout);$this.resizeTimeout=setTimeout(function(){$this.calculateIsotopeRows();$this.showPagination();$this.removeAnimation();$this.isotopic!=null&&$this.isotopic.arrange({filter:$this.filterFns.number})},200)})}},initFacetEvents:function(){var $this=this;$this.o.triggerOnFacetChange!=0&&$("input",$this.n.searchsettings).change(function(){$this.n.text.val().length<$this.o.charcount||($this.post!=null&&$this.post.abort(),$this.search())})},destroy:function(){return this.each(function(){var $this=$.extend({},this,methods);$(window).unbind($this)})},searchfor:function(phrase){$(".proinput input",this).val(phrase).trigger("keyup")},autocomplete:function(){var $this=this,val=$this.n.text.val();if($this.n.text.val()==""){$this.n.textAutocomplete.val("");return}var autocompleteVal=$this.n.textAutocomplete.val();if(autocompleteVal==""||autocompleteVal.indexOf(val)!=0){$this.n.textAutocomplete.val("");var data={action:"ajaxsearchpro_autocomplete",asid:$this.o.id,sauto:$this.n.text.val()};$this.postAuto=$.post(ajaxsearchpro.ajaxurl,data,function(response){if(response.length>0){var part1=val,part2=response.substr(val.length);response=part1+part2}$this.n.textAutocomplete.val(response)})}},search:function(){var $this=this;if(!$this.searching||!0){$this.searching=!0;$this.n.proloading.css({display:"block"});$this.n.proclose.css({display:"none"});$this.o.blocking==!1&&$this.hideSettings();var asp_preview_options=0;$("#asp_preview_options").length>0&&(asp_preview_options=$("#asp_preview_options").html());var data={action:"ajaxsearchpro_search",aspp:$this.n.text.val(),asid:$this.o.id,asp_inst_id:$this.o.rid,options:$("form",$this.n.searchsettings).serialize(),asp_preview_options:asp_preview_options};$this.analytics($this.n.text.val());$this.post=$.post(ajaxsearchpro.ajaxurl,data,function(response){if(response=response.replace(/^\s*[\r\n]/gm,""),response=response.match(/!!ASPSTART!!(.*[\s\S]*)!!ASPEND!!/)[1],$this.n.resdrg.html(""),$this.n.resdrg.html(response),$(".asp_keyword",$this.n.resdrg).bind("click",function(){$this.n.text.val($(this).html());$("input.orig",$this.n.container).val($(this).html()).keydown();$("form",$this.n.container).trigger("submit","ajax")}),$this.n.items=$(".item",$this.n.resultsDiv),$this.showResults(),$this.scrollToResults(),$this.lastSuccesfulPhrase=$this.n.text.val(),$this.n.showmore!=null){var url=$this.o.more_redirect_url.replace("{phrase}",$this.n.text.val());if(typeof AAPL_loadPage!="undefined"){var plus="";$this.o.overridewpdefault&&(plus="asid="+$this.o.id+"&"+$("form",$this.n.searchsettings).serialize(),plus="&asp_data="+Base64.encode(plus));$("a",$this.n.showmore).attr("href",$this.o.homeurl+url+plus)}else $("a",$this.n.showmore).attr("href","#"),$("a",$this.n.showmore).click(function(e){e.preventDefault();asp_submit_to_url($this.o.homeurl+url,"post",{p_asid:$this.o.id,p_asp_data:$("form",$this.n.searchsettings).serialize()})})}},"text")}},aaplResults:function(){var $this=this,plus="";$this.post!=null&&$this.post.abort();$this.n.proloading.css("display","none");$this.o.blocking==!1&&$this.hideSettings();$this.hideResults();var url=$this.o.redirect_url.replace("{phrase}",$this.n.text.val());$this.o.overridewpdefault&&(plus="asid="+$this.o.id+"&"+$("form",$this.n.searchsettings).serialize());plus!=""?AAPL_loadPage($this.o.homeurl+url+"&asp_data="+Base64.encode(plus)):AAPL_loadPage($this.o.homeurl+url);return},showResults:function(){var $this=this;switch($this.o.resultstype){case"horizontal":$this.showHorizontalResults();break;case"vertical":$this.showVerticalResults();break;case"polaroid":$this.showPolaroidResults();$this.disableMobileScroll=!0;break;case"isotopic":$this.showIsotopicResults();break;default:$this.showHorizontalResults()}$this.n.proloading.css({display:"none"});$this.n.proclose.css({display:"block"});$this.n.showmore!=null&&$this.n.showmore.css({display:"block"});is_touch_device()&&document.activeElement.blur();$this.resultsOpened=!0},hideResults:function(){var $this=this;switch($this.o.resultstype){case"horizontal":$this.hideHorizontalResults();break;default:$this.hideVerticalResults()}$this.n.proclose.css({display:"none"});$this.n.showmore!=null&&$this.n.showmore.css({display:"none"});$this.resultsOpened=!1},scrollToResults:function(){if(($this=this,this.o.scrollToResults==1)&&!this.$elem.parent().hasClass("asp_preview_data")){if($this.o.resultsposition=="hover")var stop=$this.n.probox.offset().top-20;else var stop=$this.n.resultsDiv.offset().top-20;$("#wpadminbar").length>0&&(stop-=$("#wpadminbar").height());stop=stop<0?0:stop;$("body, html").animate({scrollTop:stop},{duration:500})}},showVerticalResults:function(){var $this=this;$this.n.resultsDiv.css({display:"block",height:"auto"});$this.scrolling(!0);var top=$this.n.resultsDiv.position().top;if($this.n.resultsDiv.css({top:top-100,opacity:0,visibility:"visible"}).animate({top:top,opacity:1},{complete:function(){$(".mCS_no_scrollbar",$this.n.resultsDiv).css({top:0});$(".mCSB_container",$this.n.resultsDiv).css({top:0})}}),$this.n.items.length>0){var count=$this.n.items.length<$this.o.itemscount?$this.n.items.length:$this.o.itemscount,groups=$(".group",$this.n.resultsDiv),i=0,h=0;if($this.n.items.each(function(){h+=$(this).outerHeight(!0);i++}),i=i<1?1:i,h=h/i*count,groups.length>0&&(h+=groups.outerHeight(!0)),$this.n.results.css({height:h+3}),$this.scroll.mCustomScrollbar("update"),$this.o.highlight==1){var wholew=$this.o.highlightwholewords==1?!0:!1;$("div.item",$this.n.resultsDiv).highlight($this.n.text.val().split(" "),{element:"span",className:"highlighted",wordsOnly:wholew})}}if($this.resize(),$this.n.items.length==0){var h=$(".nores",$this.n.results).outerHeight(!0)>$this.o.resultitemheight?$this.o.resultitemheight:$(".nores",$this.n.results).outerHeight(!0);$this.n.results.css({height:11110});$this.scroll.mCustomScrollbar("update");$this.n.results.css({height:"auto"})}$this.addAnimation();$this.scrolling(!0);$this.searching=!1},showHorizontalResults:function(){var $this=this;if($this.n.resultsDiv.css("display","block"),$(".nores",$this.n.results).size()>0?$(".mCSB_container",$this.n.resultsDiv).css({width:"auto",left:0}):$(".mCSB_container",$this.n.resultsDiv).css({width:$this.n.resdrg.children().size()*$($this.n.resdrg.children()[0]).outerWidth(!0),left:0}),$this.o.resultsposition=="hover"&&$this.n.resultsDiv.css("width",$this.n.container.outerWidth(!0)),$this.scroll.data({scrollButtons_scrollAmount:parseInt($this.n.items.outerWidth(!0)),mouseWheelPixels:parseInt($this.n.items.outerWidth(!0))}).mCustomScrollbar("update"),$this.n.resultsDiv.css("visibility")=="visible")var cssArgs={height:"auto"},animArgs={opacity:1};else var autoHeight=$this.n.resultsDiv.css("height","auto").height(),cssArgs={opacity:0,visibility:"visible",height:0},animArgs={opacity:1,height:autoHeight};$this.addAnimation();$this.n.resultsDiv.css(cssArgs).animate(animArgs,{complete:function(){$this.scrolling(!0);$this.searching=!1}})},showIsotopicResults:function(){var $this=this,itemsPerPage=$this.o.iitemsPerPage;$this.preProcessIsotopicResults();$this.n.resultsDiv.css({display:"block",height:"auto"});$this.scrolling(!0);var top=$this.n.resultsDiv.position().top;if($this.n.resultsDiv.css({top:top-100,opacity:0,visibility:"visible"}).animate({top:top,opacity:1},{}),$this.n.items.length>0&&($this.n.results.css({height:"auto"}),$this.o.highlight==1)){var wholew=$this.o.highlightwholewords==1?!0:!1;$("div.item",$this.n.resultsDiv).highlight($this.n.text.val().split(" "),{element:"span",className:"highlighted",wordsOnly:wholew})}if($this.calculateIsotopeRows(),$this.showPagination(),$this.n.items.length==0){var h=$(".nores",$this.n.results).outerHeight(!0)>$this.o.resultitemheight?$this.o.resultitemheight:$(".nores",$this.n.results).outerHeight(!0);$this.n.results.css({height:11110});$this.n.results.css({height:"auto"});$this.n.resdrg.css({height:"auto"})}else $this.isotopic=new rpp_isotope("#ajaxsearchprores"+$this.o.rid+" .resdrg",{itemSelector:"div.item",layoutMode:"masonry",filter:$this.filterFns.number});$this.addAnimation();$this.searching=!1},preProcessIsotopicResults:function(){var $this=this,j=0,overlay="";$this.o.iishowOverlay&&(overlay=$this.n.aspItemOverlay[0].outerHTML);$.grep($this.n.items,function(el){var image="",overlayImage="",hasImage=$(".asp_item_img",el).length>0?!0:!1,$img=$(".asp_item_img",el);if(hasImage){var src=$img.attr("src");if($this.o.iiblurOverlay&&!is_touch_device())var filter="aspblur";else var filter="no_aspblur";overlayImage="<img filter='url(#"+filter+")' style='filter: url(#"+filter+");-webkit-filter: url(#"+filter+");-moz-filter: url(#"+filter+");-o-filter: url(#"+filter+");-ms-filter: url(#"+filter+");' class='asp_item_overlay_img' src=' "+src+"'>"}else switch($this.o.iifNoImage){case"removeres":return!1;case"defaultimage":if($this.o.defaultImage!=""){if(image="<img class='asp_item_img' src=' "+$this.o.defaultImage+"'>",$this.o.iiblurOverlay&&!is_touch_device())var filter="aspblur";else var filter="no_aspblur";overlayImage="<img filter='url(#"+filter+")' style='filter: url(#"+filter+");-webkit-filter: url(#"+filter+");-moz-filter: url(#"+filter+");-o-filter: url(#"+filter+");-ms-filter: url(#"+filter+");' class='asp_item_overlay_img' src=' "+$this.o.defaultImage+"'>"}}$(overlayImage+overlay+image).prependTo(el);$(el).attr("data-itemnum",j);j++})},showPagination:function(){var $this=this;if($("nav.asp_navigation ul li",$this.n.resultsDiv).remove(),$("nav.asp_navigation",$this.n.resultsDiv).css("display","none"),$this.n.items.length>0){var pages=Math.ceil($this.n.items.length/$this.il.itemsPerPage);if(pages>1){for(var i=1;i<=pages;i++)i==1?$("nav.asp_navigation ul",$this.n.resultsDiv).append("<li class='asp_active'><span>"+i+"<\/span><\/li>"):$("nav.asp_navigation ul",$this.n.resultsDiv).append("<li><span>"+i+"<\/span><\/li>");$("nav.asp_navigation",$this.n.resultsDiv).css("display","block")}}},calculateIsotopeRows:function(){var $this=this,containerWidth=parseFloat($this.n.results.innerWidth()),realColumnCount=containerWidth/$this.o.iitemsWidth,floorColumnCount=Math.floor(realColumnCount);floorColumnCount<=0&&(floorColumnCount=1);Math.abs(containerWidth/floorColumnCount-$this.o.iitemsWidth)>Math.abs(containerWidth/(floorColumnCount+1)-$this.o.iitemsWidth)&&floorColumnCount++;var newItemW=containerWidth/floorColumnCount,newItemH=newItemW/$this.o.iitemsWidth*$this.o.iitemsHeight;$this.il.columns=floorColumnCount;$this.il.itemsPerPage=floorColumnCount*$this.o.iiRows;$this.n.resultsDiv.data({colums:$this.il.columns,itemsperpage:$this.il.itemsPerPage});$this.currentPage=1;$this.n.items.css({width:Math.floor(newItemW),height:Math.floor(newItemH)})},showPolaroidResults:function(){var $this=this;$(".photostack>nav",$this.n.resultsDiv).remove();var figures=$("figure",$this.n.resultsDiv);$this.n.resultsDiv.css({display:"block",height:"auto"});$this.scrolling(!0);var top=$this.n.resultsDiv.position().top;if($this.n.resultsDiv.css({top:top-100,opacity:0,visibility:"visible"}).animate({top:top,opacity:1},{complete:function(){}}),figures.length>0){if($this.n.results.css({height:$this.o.prescontainerheight}),$this.o.highlight==1)var wholew=$this.o.highlightwholewords==1?!0:!1;new Photostack($this.n.results.get(0),{callback:function(){}})}if(figures.length==0){var h=$(".nores",$this.n.results).outerHeight(!0)>$this.o.resultitemheight?$this.o.resultitemheight:$(".nores",$this.n.results).outerHeight(!0);$this.n.results.css({height:11110});$this.n.results.css({height:"auto"})}$this.addAnimation();$this.scrolling(!0);$this.searching=!1;$this.initPolaroidEvents(figures)},initPolaroidEvents:function(figures){var $this=this,i=1;figures.each(function(){i>1&&$(this).removeClass("photostack-current");$(this).attr("idx",i);i++});figures.click(function(e){if(!$(this).hasClass("photostack-current")){e.preventDefault();var idx=$(this).attr("idx");$(".photostack>nav span:nth-child("+idx+")",$this.n.resultsDiv).click()}});figures.bind("mousewheel",function(event,delta){event.preventDefault();delta>=1?$(".photostack>nav span.current",$this.n.resultsDiv).next().length>0?$(".photostack>nav span.current",$this.n.resultsDiv).next().click():$(".photostack>nav span:nth-child(1)",$this.n.resultsDiv).click():$(".photostack>nav span.current",$this.n.resultsDiv).prev().length>0?$(".photostack>nav span.current",$this.n.resultsDiv).prev().click():$(".photostack>nav span:nth-last-child(1)",$this.n.resultsDiv).click()});figures.bind("swipeone",function(e,originalEvent){e.preventDefault();e.stopPropagation();originalEvent.originalEvent.preventDefault();originalEvent.originalEvent.stopPropagation();originalEvent.delta!=null&&originalEvent.delta[0]!=null&&originalEvent.delta[0].lastX!=null&&(originalEvent.delta[0].lastX>=0?$(".photostack>nav span.current",$this.n.resultsDiv).next().length>0?$(".photostack>nav span.current",$this.n.resultsDiv).next().click():$(".photostack>nav span:nth-child(1)",$this.n.resultsDiv).click():$(".photostack>nav span.current",$this.n.resultsDiv).prev().length>0?$(".photostack>nav span.current",$this.n.resultsDiv).prev().click():$(".photostack>nav span:nth-last-child(1)",$this.n.resultsDiv).click())});$this.disableMobileScroll=!0},hideVerticalResults:function(){var $this=this;$this.disableMobileScroll=!1;$this.n.resultsDiv.animate({opacity:0,height:0},{duration:120,complete:function(){$(this).css({visibility:"hidden",display:"none"})}})},hideHorizontalResults:function(newSearch){var $this=this;$this.disableMobileScroll=!1;newSearch=typeof newSearch!="undefined"?newSearch:!1;newSearch?$this.n.resultsDiv.animate({opacity:.3},{complete:function(){return}}):$this.n.resultsDiv.animate({opacity:0,height:0},{duration:120,complete:function(){$(this).css({visibility:"hidden",display:"none"})}})},addAnimation:function(){var $this=this,i=0,j=1;$this.n.items.each(function(){if($this.o.resultstype!="isotopic"||!(j>$this.il.itemsPerPage)){var x=this;setTimeout(function(){$(x).addClass($this.animation)},i);i=i+60;j++}})},removeAnimation:function(){var $this=this;$this.n.items.each(function(){var x=this;$(x).removeClass($this.animation)})},showSettings:function(){var $this=this;$this.o.blocking?($this.n.searchsettings.css({display:"block",visibility:"visible"}),$this.n.searchsettings.animate({opacity:1})):($this.scrolling(!0),$this.n.searchsettings.css({opacity:0,visibility:"visible",top:"-=50px"}),$this.n.searchsettings.animate({opacity:1,top:"+=50px"}),$this.settScroll==null&&($this.settScroll=$(".asp_sett_scroll",$this.n.searchsettings).mCustomScrollbar({contentTouchScroll:!0})));$this.n.prosettings.data("opened",1)},hideSettings:function(){var $this=this;$this.o.blocking?($this.n.searchsettings.css({display:"none",visibility:"hidden"}),$this.n.searchsettings.animate({opacity:0})):$this.n.searchsettings.animate({opacity:0},{complete:function(){$(this).css({visibility:"hidden"})}});$this.n.prosettings.data("opened",0)},cleanUp:function(){var $this=this;$(".searchsettings",$this.n.container).length>0&&($("body>#ajaxsearchprosettings"+$this.o.rid).remove(),$("body>#ajaxsearchprores"+$this.o.rid).remove())},resize:function(){var $this=this;$this.n.proinput.css({width:$this.n.probox.width()-8-($this.n.proinput.outerWidth(!1)-$this.n.proinput.width())-$this.n.proloading.outerWidth(!0)-$this.n.prosettings.outerWidth(!0)-$this.n.promagnifier.outerWidth(!0)-10});$this.n.text.css({width:$this.n.proinput.width()-2+$this.n.proloading.outerWidth(!0),position:"absolute",zIndex:2});$this.n.textAutocomplete.css({width:$this.n.proinput.width()-2+$this.n.proloading.outerWidth(!0),position:"absolute",top:$this.n.text.position().top,left:$this.n.text.position().left,opacity:.25,zIndex:1});$this.n.prosettings.data("opened")!=0&&($this.o.settingsimagepos=="left"?$this.n.searchsettings.css({display:"block",top:$this.n.prosettings.offset().top+$this.n.prosettings.height()-2,left:$this.n.prosettings.offset().left}):$this.n.searchsettings.css({display:"block",top:$this.n.prosettings.offset().top+$this.n.prosettings.height()-2,left:$this.n.prosettings.offset().left+$this.n.prosettings.width()-$this.n.searchsettings.width()}));$this.n.resultsDiv.css("visibility")!="hidden"&&($this.o.resultsposition!="block"&&$this.n.resultsDiv.css({width:$this.n.container.width()-($this.n.resultsDiv.outerWidth(!0)-$this.n.resultsDiv.width()),top:$this.n.container.offset().top+$this.n.container.outerHeight(!0)+10,left:$this.n.container.offset().left}),$this.o.resultstype!="isotopic"&&$(".content",$this.n.items).each(function(){var imageWidth=$(this).prev().css("display")=="none"?0:$(this).prev().outerWidth(!0);$(this).css({width:$(this.parentNode).width()-$(this).prev().outerWidth(!0)-$(this).outerWidth(!1)+$(this).width()-3})}));$this.n.container.css("position")=="fixed"&&$this.n.trythis.css({top:$this.n.container.position().top+$this.n.container.outerHeight(!0)});$this.n.trythis.css({left:$this.n.container.position().left})},scrolling:function(ignoreVisibility){var $this=this;if((ignoreVisibility==!0||$this.n.searchsettings.css("visibility")=="visible")&&$this.o.blocking==!1&&($this.o.settingsimagepos=="left"?$this.n.searchsettings.css({display:"block",top:$this.n.prosettings.offset().top+$this.n.prosettings.height()-2,left:$this.n.prosettings.offset().left}):$this.n.searchsettings.css({display:"block",top:$this.n.prosettings.offset().top+$this.n.prosettings.height()-2,left:$this.n.prosettings.offset().left+$this.n.prosettings.width()-$this.n.searchsettings.width()})),ignoreVisibility==!0||$this.n.resultsDiv.css("visibility")=="visible"){var cwidth=$this.n.container.outerWidth(!0);if(cwidth=$this.o.resultsposition!="hover"&&$this.n.resultsAppend.length>0?"auto":cwidth-2*parseInt($this.n.resultsDiv.css("paddingLeft")),$this.n.resultsDiv.css({width:cwidth,top:$this.n.container.offset().top+$this.n.container.outerHeight(!0)+10,left:$this.n.container.offset().left}),$this.o.resultstype!="vertical")return;$(".content",$this.n.items).each(function(){$(this).css({width:$(this.parentNode).width()-$(this).prev().outerWidth(!0)-$(this).outerWidth(!1)+$(this).width()-3})})}}};function asp_submit_to_url(action,method,input){"use strict";var form;form=$("<form />",{action:action,method:method,style:"display: none;"});typeof input!="undefined"&&input!==null&&$.each(input,function(name,value){$("<input />",{type:"hidden",name:name,value:value}).appendTo(form)});form.appendTo("body").submit()}function is_touch_device(){return!("ontouchstart"in window)?0:1}function detectIE(){var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE "),trident=ua.indexOf("Trident/");return msie>0||trident>0?!0:!1}typeof Object.create!="function"&&(Object.create=function(o){function F(){}return F.prototype=o,new F});$.plugin=function(name,object){$.fn[name]=function(options){return this.each(function(){$.data(this,name)||$.data(this,name,Object.create(object).init(options,this))})}};$.plugin("ajaxsearchpro",methods);jQuery.fn.animateAuto=function(prop,speed,callback){var elem,height,width;return this.each(function(i,el){el=jQuery(el);elem=el.clone().css({height:"auto",width:"auto"}).appendTo("body");height=elem.css("height");width=elem.css("width");elem.remove();prop==="height"?el.animate({height:height},speed,callback):prop==="width"?el.animate({width:width},speed,callback):prop==="both"&&el.animate({width:width,height:height},speed,callback)})};$.fn.mobileFix=function(options){var $parent=$(this),$fixedElements=$(options.fixedElements);$(document).on("focus",options.inputElements,function(){$parent.addClass(options.addClass)}).on("blur",options.inputElements,function(){$parent.removeClass(options.addClass);setTimeout(function(){$(document).scrollTop($(document).scrollTop())},1)});return this};var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(input){var output="",chr1,chr2,chr3,enc1,enc2,enc3,enc4,i=0;for(input=Base64._utf8_encode(input);i<input.length;)chr1=input.charCodeAt(i++),chr2=input.charCodeAt(i++),chr3=input.charCodeAt(i++),enc1=chr1>>2,enc2=(chr1&3)<<4|chr2>>4,enc3=(chr2&15)<<2|chr3>>6,enc4=chr3&63,isNaN(chr2)?enc3=enc4=64:isNaN(chr3)&&(enc4=64),output=output+this._keyStr.charAt(enc1)+this._keyStr.charAt(enc2)+this._keyStr.charAt(enc3)+this._keyStr.charAt(enc4);return output},decode:function(input){var output="",chr1,chr2,chr3,enc1,enc2,enc3,enc4,i=0;for(input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");i<input.length;)enc1=this._keyStr.indexOf(input.charAt(i++)),enc2=this._keyStr.indexOf(input.charAt(i++)),enc3=this._keyStr.indexOf(input.charAt(i++)),enc4=this._keyStr.indexOf(input.charAt(i++)),chr1=enc1<<2|enc2>>4,chr2=(enc2&15)<<4|enc3>>2,chr3=(enc3&3)<<6|enc4,output=output+String.fromCharCode(chr1),enc3!=64&&(output=output+String.fromCharCode(chr2)),enc4!=64&&(output=output+String.fromCharCode(chr3));return Base64._utf8_decode(output)},_utf8_encode:function(string){string=string.replace(/\r\n/g,"\n");for(var utftext="",n=0;n<string.length;n++){var c=string.charCodeAt(n);c<128?utftext+=String.fromCharCode(c):c>127&&c<2048?(utftext+=String.fromCharCode(c>>6|192),utftext+=String.fromCharCode(c&63|128)):(utftext+=String.fromCharCode(c>>12|224),utftext+=String.fromCharCode(c>>6&63|128),utftext+=String.fromCharCode(c&63|128))}return utftext},_utf8_decode:function(utftext){for(var string="",i=0,c=c1=c2=0;i<utftext.length;)c=utftext.charCodeAt(i),c<128?(string+=String.fromCharCode(c),i++):c>191&&c<224?(c2=utftext.charCodeAt(i+1),string+=String.fromCharCode((c&31)<<6|c2&63),i+=2):(c2=utftext.charCodeAt(i+1),c3=utftext.charCodeAt(i+2),string+=String.fromCharCode((c&15)<<12|(c2&63)<<6|c3&63),i+=3);return string}}})(jQuery);